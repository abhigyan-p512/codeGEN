{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhig\\\\OneDrive\\\\Desktop\\\\leetclone\\\\client\\\\src\\\\pages\\\\ContestPage.js\",\n  _s = $RefreshSig$();\n// src/pages/ContestPage.js\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5000\";\nfunction ContestPage() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    user,\n    token\n  } = useAuth();\n  const [contest, setContest] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [joining, setJoining] = useState(false);\n  const [joined, setJoined] = useState(false);\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [loadingLb, setLoadingLb] = useState(false);\n  const [lbError, setLbError] = useState(\"\");\n\n  // ⏱ countdown state\n  const [now, setNow] = useState(Date.now());\n\n  // Fetch contest\n  useEffect(() => {\n    async function fetchContest() {\n      try {\n        setLoading(true);\n        setError(\"\");\n        const res = await axios.get(`${API_URL}/contests/${id}`);\n        setContest(res.data);\n      } catch (err) {\n        var _err$response;\n        console.error(\"Get contest error:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n        setError(\"Failed to load contest.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    if (id) fetchContest();\n  }, [id]);\n\n  // Fetch leaderboard\n  useEffect(() => {\n    if (!user || !id) return;\n    async function fetchLeaderboard() {\n      try {\n        setLoadingLb(true);\n        setLbError(\"\");\n        const res = await axios.get(`${API_URL}/contests/${id}/leaderboard`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setLeaderboard(res.data || []);\n      } catch (err) {\n        var _err$response2;\n        console.error(\"Leaderboard error:\", ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data) || err.message);\n        setLbError(\"Failed to load leaderboard.\");\n      } finally {\n        setLoadingLb(false);\n      }\n    }\n    fetchLeaderboard();\n  }, [id, user, token]);\n\n  // ⏱ keep \"now\" ticking each second\n  useEffect(() => {\n    const interval = setInterval(() => setNow(Date.now()), 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // contest state: upcoming / running / ended\n  const contestState = useMemo(() => {\n    if (!contest) return \"loading\";\n    const start = new Date(contest.startTime).getTime();\n    const end = new Date(contest.endTime).getTime();\n    const current = now;\n    if (current < start) return \"upcoming\";\n    if (current >= start && current <= end) return \"running\";\n    return \"ended\";\n  }, [contest, now]);\n\n  // human-readable countdown\n  const countdownText = useMemo(() => {\n    if (!contest) return \"\";\n    const start = new Date(contest.startTime).getTime();\n    const end = new Date(contest.endTime).getTime();\n    const current = now;\n    let diff;\n    let prefix;\n    if (current < start) {\n      diff = start - current;\n      prefix = \"Starts in\";\n    } else if (current >= start && current <= end) {\n      diff = end - current;\n      prefix = \"Ends in\";\n    } else {\n      return \"Contest finished\";\n    }\n    const sec = Math.floor(diff / 1000);\n    const h = Math.floor(sec / 3600);\n    const m = Math.floor(sec % 3600 / 60);\n    const s = sec % 60;\n    return `${prefix} ${h.toString().padStart(2, \"0\")}:${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\n  }, [contest, now]);\n  const handleJoin = async () => {\n    if (!user) {\n      alert(\"You must be logged in to join this contest.\");\n      return;\n    }\n    try {\n      setJoining(true);\n      await axios.post(`${API_URL}/contests/${id}/join`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setJoined(true);\n      alert(\"Joined contest!\");\n    } catch (err) {\n      var _err$response3, _err$response4, _err$response4$data;\n      console.error(\"Join contest error:\", ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || err.message);\n      alert(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Failed to join contest. Try again.\");\n    } finally {\n      setJoining(false);\n    }\n  };\n  const safeProblems = useMemo(() => {\n    if (!contest || !contest.problems) return [];\n    return contest.problems.filter(p => p && p.problem && p.problem.slug && p.problem.title);\n  }, [contest]);\n  const formatDateTime = str => {\n    if (!str) return \"-\";\n    return new Date(str).toLocaleString();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-card\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"page-muted\",\n          children: \"Loading contest...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !contest) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-card\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"page-error\",\n          children: error || \"Contest not found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-heading\",\n            children: contest.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"page-subtitle\",\n            children: contest.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"0.8rem\",\n                opacity: 0.8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Starts:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), \" \", formatDateTime(contest.startTime)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"0.8rem\",\n                opacity: 0.8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Ends:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), \" \", formatDateTime(contest.endTime)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              alignSelf: \"flex-end\"\n            },\n            children: [contestState === \"upcoming\" && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"pill pill-muted\",\n              children: \"Upcoming\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), contestState === \"running\" && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"pill pill-easy\",\n              children: \"Live\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this), contestState === \"ended\" && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"pill pill-hard\",\n              children: \"Ended\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"0.85rem\",\n              textAlign: \"right\",\n              opacity: 0.9\n            },\n            children: countdownText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleJoin,\n            disabled: joining || contestState === \"ended\",\n            children: joining ? \"Joining...\" : joined ? \"Joined\" : contestState === \"ended\" ? \"Contest Ended\" : \"Join Contest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginTop: \"1rem\",\n          marginBottom: \"0.5rem\"\n        },\n        children: \"Problems\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), safeProblems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-muted\",\n        children: \"No valid problems linked to this contest yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submissions-table-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"submissions-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Difficulty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Open\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: safeProblems.map((p, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: p.problem.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: p.problem.difficulty ? `pill pill-${p.problem.difficulty.toLowerCase()}` : \"pill pill-muted\",\n                  children: p.problem.difficulty || \"Unknown\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: contestState === \"ended\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"page-muted\",\n                  children: \"Contest ended\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"btn btn-ghost-sm\",\n                  to: `/contests/${contest._id}/problems/${p.problem.slug}`,\n                  children: \"Solve\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 21\n              }, this)]\n            }, p.problem._id || idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginTop: \"1.5rem\",\n          marginBottom: \"0.5rem\"\n        },\n        children: \"Leaderboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), !user && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-muted\",\n        children: \"Log in to view the live leaderboard for this contest.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this), user && loadingLb && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-muted\",\n        children: \"Loading leaderboard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this), user && lbError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-error\",\n        children: lbError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 29\n      }, this), user && !loadingLb && !lbError && leaderboard.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-muted\",\n        children: \"No submissions yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this), user && !loadingLb && leaderboard.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submissions-table-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"submissions-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Rank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Score\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Solved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: leaderboard.map((entry, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.score\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.solvedCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 21\n              }, this)]\n            }, entry.userId || index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n}\n_s(ContestPage, \"Wk4DdzpIX1i4hN7aHggH0H75lRY=\", false, function () {\n  return [useParams, useAuth];\n});\n_c = ContestPage;\nexport default ContestPage;\nvar _c;\n$RefreshReg$(_c, \"ContestPage\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useParams","Link","axios","useAuth","jsxDEV","_jsxDEV","API_URL","ContestPage","_s","id","user","token","contest","setContest","loading","setLoading","error","setError","joining","setJoining","joined","setJoined","leaderboard","setLeaderboard","loadingLb","setLoadingLb","lbError","setLbError","now","setNow","Date","fetchContest","res","get","data","err","_err$response","console","response","message","fetchLeaderboard","headers","Authorization","_err$response2","interval","setInterval","clearInterval","contestState","start","startTime","getTime","end","endTime","current","countdownText","diff","prefix","sec","Math","floor","h","m","s","toString","padStart","handleJoin","alert","post","_err$response3","_err$response4","_err$response4$data","safeProblems","problems","filter","p","problem","slug","title","formatDateTime","str","toLocaleString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","description","style","marginTop","fontSize","opacity","display","flexDirection","gap","alignSelf","textAlign","onClick","disabled","marginBottom","length","map","idx","difficulty","toLowerCase","to","_id","entry","index","username","score","solvedCount","userId","_c","$RefreshReg$"],"sources":["C:/Users/abhig/OneDrive/Desktop/leetclone/client/src/pages/ContestPage.js"],"sourcesContent":["// src/pages/ContestPage.js\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nconst API_URL = \"http://localhost:5000\";\r\n\r\nfunction ContestPage() {\r\n  const { id } = useParams();\r\n  const { user, token } = useAuth();\r\n\r\n  const [contest, setContest] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const [joining, setJoining] = useState(false);\r\n  const [joined, setJoined] = useState(false);\r\n\r\n  const [leaderboard, setLeaderboard] = useState([]);\r\n  const [loadingLb, setLoadingLb] = useState(false);\r\n  const [lbError, setLbError] = useState(\"\");\r\n\r\n  // ⏱ countdown state\r\n  const [now, setNow] = useState(Date.now());\r\n\r\n  // Fetch contest\r\n  useEffect(() => {\r\n    async function fetchContest() {\r\n      try {\r\n        setLoading(true);\r\n        setError(\"\");\r\n        const res = await axios.get(`${API_URL}/contests/${id}`);\r\n        setContest(res.data);\r\n      } catch (err) {\r\n        console.error(\"Get contest error:\", err.response?.data || err.message);\r\n        setError(\"Failed to load contest.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    if (id) fetchContest();\r\n  }, [id]);\r\n\r\n  // Fetch leaderboard\r\n  useEffect(() => {\r\n    if (!user || !id) return;\r\n\r\n    async function fetchLeaderboard() {\r\n      try {\r\n        setLoadingLb(true);\r\n        setLbError(\"\");\r\n        const res = await axios.get(`${API_URL}/contests/${id}/leaderboard`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setLeaderboard(res.data || []);\r\n      } catch (err) {\r\n        console.error(\r\n          \"Leaderboard error:\",\r\n          err.response?.data || err.message\r\n        );\r\n        setLbError(\"Failed to load leaderboard.\");\r\n      } finally {\r\n        setLoadingLb(false);\r\n      }\r\n    }\r\n\r\n    fetchLeaderboard();\r\n  }, [id, user, token]);\r\n\r\n  // ⏱ keep \"now\" ticking each second\r\n  useEffect(() => {\r\n    const interval = setInterval(() => setNow(Date.now()), 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // contest state: upcoming / running / ended\r\n  const contestState = useMemo(() => {\r\n    if (!contest) return \"loading\";\r\n    const start = new Date(contest.startTime).getTime();\r\n    const end = new Date(contest.endTime).getTime();\r\n    const current = now;\r\n\r\n    if (current < start) return \"upcoming\";\r\n    if (current >= start && current <= end) return \"running\";\r\n    return \"ended\";\r\n  }, [contest, now]);\r\n\r\n  // human-readable countdown\r\n  const countdownText = useMemo(() => {\r\n    if (!contest) return \"\";\r\n\r\n    const start = new Date(contest.startTime).getTime();\r\n    const end = new Date(contest.endTime).getTime();\r\n    const current = now;\r\n\r\n    let diff;\r\n    let prefix;\r\n\r\n    if (current < start) {\r\n      diff = start - current;\r\n      prefix = \"Starts in\";\r\n    } else if (current >= start && current <= end) {\r\n      diff = end - current;\r\n      prefix = \"Ends in\";\r\n    } else {\r\n      return \"Contest finished\";\r\n    }\r\n\r\n    const sec = Math.floor(diff / 1000);\r\n    const h = Math.floor(sec / 3600);\r\n    const m = Math.floor((sec % 3600) / 60);\r\n    const s = sec % 60;\r\n\r\n    return `${prefix} ${h.toString().padStart(2, \"0\")}:${m\r\n      .toString()\r\n      .padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\r\n  }, [contest, now]);\r\n\r\n  const handleJoin = async () => {\r\n    if (!user) {\r\n      alert(\"You must be logged in to join this contest.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setJoining(true);\r\n      await axios.post(\r\n        `${API_URL}/contests/${id}/join`,\r\n        {},\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      setJoined(true);\r\n      alert(\"Joined contest!\");\r\n    } catch (err) {\r\n      console.error(\"Join contest error:\", err.response?.data || err.message);\r\n      alert(\r\n        err.response?.data?.message || \"Failed to join contest. Try again.\"\r\n      );\r\n    } finally {\r\n      setJoining(false);\r\n    }\r\n  };\r\n\r\n  const safeProblems = useMemo(() => {\r\n    if (!contest || !contest.problems) return [];\r\n    return contest.problems.filter(\r\n      (p) => p && p.problem && p.problem.slug && p.problem.title\r\n    );\r\n  }, [contest]);\r\n\r\n  const formatDateTime = (str) => {\r\n    if (!str) return \"-\";\r\n    return new Date(str).toLocaleString();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"page-container\">\r\n        <div className=\"page-card\">\r\n          <p className=\"page-muted\">Loading contest...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !contest) {\r\n    return (\r\n      <div className=\"page-container\">\r\n        <div className=\"page-card\">\r\n          <p className=\"page-error\">{error || \"Contest not found.\"}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <div className=\"page-card\">\r\n        {/* Header */}\r\n        <div className=\"page-card-header\">\r\n          <div>\r\n            <h1 className=\"page-heading\">{contest.name}</h1>\r\n            <p className=\"page-subtitle\">{contest.description}</p>\r\n\r\n            <div style={{ marginTop: 8 }}>\r\n              <div style={{ fontSize: \"0.8rem\", opacity: 0.8 }}>\r\n                <strong>Starts:</strong> {formatDateTime(contest.startTime)}\r\n              </div>\r\n              <div style={{ fontSize: \"0.8rem\", opacity: 0.8 }}>\r\n                <strong>Ends:</strong> {formatDateTime(contest.endTime)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\r\n            {/* contest state pill */}\r\n            <div style={{ alignSelf: \"flex-end\" }}>\r\n              {contestState === \"upcoming\" && (\r\n                <span className=\"pill pill-muted\">Upcoming</span>\r\n              )}\r\n              {contestState === \"running\" && (\r\n                <span className=\"pill pill-easy\">Live</span>\r\n              )}\r\n              {contestState === \"ended\" && (\r\n                <span className=\"pill pill-hard\">Ended</span>\r\n              )}\r\n            </div>\r\n\r\n            {/* countdown */}\r\n            <div\r\n              style={{\r\n                fontSize: \"0.85rem\",\r\n                textAlign: \"right\",\r\n                opacity: 0.9,\r\n              }}\r\n            >\r\n              {countdownText}\r\n            </div>\r\n\r\n            {/* join button */}\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={handleJoin}\r\n              disabled={joining || contestState === \"ended\"}\r\n            >\r\n              {joining\r\n                ? \"Joining...\"\r\n                : joined\r\n                ? \"Joined\"\r\n                : contestState === \"ended\"\r\n                ? \"Contest Ended\"\r\n                : \"Join Contest\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Problems table */}\r\n        <h2 style={{ marginTop: \"1rem\", marginBottom: \"0.5rem\" }}>\r\n          Problems\r\n        </h2>\r\n\r\n        {safeProblems.length === 0 ? (\r\n          <p className=\"page-muted\">\r\n            No valid problems linked to this contest yet.\r\n          </p>\r\n        ) : (\r\n          <div className=\"submissions-table-wrapper\">\r\n            <table className=\"submissions-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Title</th>\r\n                  <th>Difficulty</th>\r\n                  <th>Open</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {safeProblems.map((p, idx) => (\r\n                  <tr key={p.problem._id || idx}>\r\n                    <td>{p.problem.title}</td>\r\n                    <td>\r\n                      <span\r\n                        className={\r\n                          p.problem.difficulty\r\n                            ? `pill pill-${p.problem.difficulty.toLowerCase()}`\r\n                            : \"pill pill-muted\"\r\n                        }\r\n                      >\r\n                        {p.problem.difficulty || \"Unknown\"}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      {contestState === \"ended\" ? (\r\n                        <span className=\"page-muted\">Contest ended</span>\r\n                      ) : (\r\n                        <Link\r\n                          className=\"btn btn-ghost-sm\"\r\n                          to={`/contests/${contest._id}/problems/${p.problem.slug}`}\r\n                        >\r\n                          Solve\r\n                        </Link>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n\r\n        {/* Leaderboard */}\r\n        <h2 style={{ marginTop: \"1.5rem\", marginBottom: \"0.5rem\" }}>\r\n          Leaderboard\r\n        </h2>\r\n\r\n        {!user && (\r\n          <p className=\"page-muted\">\r\n            Log in to view the live leaderboard for this contest.\r\n          </p>\r\n        )}\r\n\r\n        {user && loadingLb && (\r\n          <p className=\"page-muted\">Loading leaderboard...</p>\r\n        )}\r\n\r\n        {user && lbError && <p className=\"page-error\">{lbError}</p>}\r\n\r\n        {user && !loadingLb && !lbError && leaderboard.length === 0 && (\r\n          <p className=\"page-muted\">No submissions yet.</p>\r\n        )}\r\n\r\n        {user && !loadingLb && leaderboard.length > 0 && (\r\n          <div className=\"submissions-table-wrapper\">\r\n            <table className=\"submissions-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Rank</th>\r\n                  <th>User</th>\r\n                  <th>Score</th>\r\n                  <th>Solved</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {leaderboard.map((entry, index) => (\r\n                  <tr key={entry.userId || index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{entry.username}</td>\r\n                    <td>{entry.score}</td>\r\n                    <td>{entry.solvedCount}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContestPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}