{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhig\\\\OneDrive\\\\Desktop\\\\leetclone\\\\client\\\\src\\\\pages\\\\DuelRoomPage.js\",\n  _s = $RefreshSig$();\n// client/src/pages/DuelRoomPage.js\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { createDuelSocket } from \"../utils/duelSocket\";\nimport MonacoCodeRunner from \"../components/MonacoCodeRunner\";\nimport api from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction formatSeconds(sec) {\n  if (sec == null || Number.isNaN(sec)) return \"00:00\";\n  if (sec <= 0) return \"00:00\";\n  const h = Math.floor(sec / 3600);\n  const m = Math.floor(sec % 3600 / 60);\n  const s = sec % 60;\n  if (h > 0) {\n    return `${h.toString().padStart(2, \"0\")}:${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\n  }\n  return `${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\n}\nfunction difficultyBadgeMeta(difficulty) {\n  const d = (difficulty || \"\").toLowerCase();\n  if (d === \"easy\") return {\n    text: \"Easy\",\n    bg: \"rgba(22,163,74,0.18)\",\n    border: \"#16a34a\",\n    color: \"#4ade80\"\n  };\n  if (d === \"medium\") return {\n    text: \"Medium\",\n    bg: \"rgba(245,158,11,0.18)\",\n    border: \"#f59e0b\",\n    color: \"#fbbf24\"\n  };\n  if (d === \"hard\") return {\n    text: \"Hard\",\n    bg: \"rgba(239,68,68,0.18)\",\n    border: \"#ef4444\",\n    color: \"#f87171\"\n  };\n  return null;\n}\nfunction problemText(problem) {\n  if (!problem) return \"\";\n  return problem.description || problem.statement || problem.body || problem.content || \"\";\n}\nconst DEFAULT_LANGUAGE = \"python\";\nconst LANGUAGE_SNIPPETS = {\n  javascript: `// JavaScript template\nfunction solve() {\n  const fs = require(\"fs\");\n  const input = fs.readFileSync(0, \"utf8\").trim().split(\"\\\\n\");\n  // TODO: parse input and print answer\n  console.log(input.length);\n}\n\nsolve();`,\n  python: `# Python template\nimport sys\n\ndef solve():\n    data = sys.stdin.read().strip().splitlines()\n    # TODO: parse data and print answer\n    print(len(data))\n\nif __name__ == \"__main__\":\n    solve()`,\n  cpp: `#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(nullptr);\n\n    vector<string> lines;\n    string line;\n    while (getline(cin, line)) {\n        lines.push_back(line);\n    }\n    // TODO: parse lines and print answer\n    cout << lines.size() << \"\\\\n\";\n    return 0;\n}`,\n  java: `import java.io.*;\nimport java.util.*;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        List<String> lines = new ArrayList<>();\n        String line;\n        while ((line = br.readLine()) != null) {\n            lines.add(line);\n        }\n        // TODO: parse lines and print answer\n        System.out.println(lines.size());\n    }\n}`\n};\nfunction DuelRoomPage() {\n  _s();\n  var _location$state$isHos, _location$state, _me$rating, _opponent$rating;\n  const {\n    roomId: routeRoomId\n  } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    user,\n    token\n  } = useAuth();\n  const roomId = routeRoomId;\n  const myId = (user === null || user === void 0 ? void 0 : user._id) || (user === null || user === void 0 ? void 0 : user.id);\n  const isHost = (_location$state$isHos = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.isHost) !== null && _location$state$isHos !== void 0 ? _location$state$isHos : false;\n  const [socket, setSocket] = useState(null);\n  const [connecting, setConnecting] = useState(false);\n  const [connError, setConnError] = useState(\"\");\n  const [players, setPlayers] = useState([]);\n  const [problem, setProblem] = useState(null);\n  const [duelStarted, setDuelStarted] = useState(false);\n  const [duelEnded, setDuelEnded] = useState(false);\n  const [winnerSlot, setWinnerSlot] = useState(null);\n  const [endReason, setEndReason] = useState(\"\");\n  const [startAt, setStartAt] = useState(null);\n  const [timeLimit, setTimeLimit] = useState(600);\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [submissions, setSubmissions] = useState([]);\n  const [language, setLanguage] = useState(DEFAULT_LANGUAGE);\n  const [code, setCode] = useState(null);\n  const [stdin, setStdin] = useState(\"\");\n  const [runOutput, setRunOutput] = useState(\"\");\n  const [isRunningCode, setIsRunningCode] = useState(false);\n  const [runStatus, setRunStatus] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // default template\n  useEffect(() => {\n    setCode(LANGUAGE_SNIPPETS[DEFAULT_LANGUAGE]);\n  }, []);\n\n  // auth guard\n  useEffect(() => {\n    if (!user || !token) {\n      navigate(\"/login\", {\n        state: {\n          from: `/duel-room/${roomId}`,\n          message: \"You must be logged in to join a duel\"\n        }\n      });\n    }\n  }, [user, token, navigate, roomId]);\n\n  // socket setup\n  useEffect(() => {\n    if (!token) return;\n    const s = createDuelSocket(token);\n    setSocket(s);\n    setConnecting(true);\n    setConnError(\"\");\n    s.on(\"connect\", () => {\n      setConnecting(false);\n      setConnError(\"\");\n      s.emit(\"join_duel\", {\n        duelId: roomId,\n        userId: myId\n      }, resp => {\n        if (!(resp !== null && resp !== void 0 && resp.ok) && !(resp !== null && resp !== void 0 && resp.roomId)) {\n          setConnError((resp === null || resp === void 0 ? void 0 : resp.message) || \"Failed to join room\");\n        }\n      });\n    });\n    s.on(\"disconnect\", () => {\n      setConnError(\"Disconnected from server\");\n    });\n    s.on(\"duel_error\", payload => {\n      setConnError((payload === null || payload === void 0 ? void 0 : payload.message) || \"Duel error\");\n    });\n    s.on(\"room_update\", ({\n      players: p,\n      started\n    }) => {\n      setPlayers(p || []);\n      setDuelStarted(!!started);\n    });\n    s.on(\"duel_started\", async (payload = {}) => {\n      let problemObj = payload.problem || payload.problemObj || null;\n      const startedAt = payload.startedAt || payload.startedAtMs || payload.startAt || Date.now();\n      const tl = payload.timeLimit || payload.timeLimitSecs || payload.timeLimitMs || 600;\n      if (!problemObj && (payload.problemId || payload.problem_id || payload.problemIdStr)) {\n        const id = payload.problemId || payload.problem_id || payload.problemIdStr;\n        try {\n          var _resp$data;\n          const resp = await api.get(`/problems/${id}`);\n          problemObj = ((_resp$data = resp.data) === null || _resp$data === void 0 ? void 0 : _resp$data.problem) || resp.data;\n        } catch (err) {\n          console.warn(\"Failed to fetch problem\", err);\n        }\n      }\n      setProblem(problemObj || null);\n      setStartAt(startedAt);\n      setTimeLimit(typeof tl === \"number\" ? tl : 600);\n      setDuelStarted(true);\n      setDuelEnded(false);\n      setWinnerSlot(null);\n      setEndReason(\"\");\n      setSubmissions([]);\n      setRunStatus(\"\");\n    });\n    const handleSubmissionEvent = (payload = {}) => {\n      var _payload$user, _ref, _ref2, _payload$passedCount, _ref3, _ref4, _payload$total;\n      const userIdFromPayload = payload.userId || payload.user_id || ((_payload$user = payload.user) === null || _payload$user === void 0 ? void 0 : _payload$user.id);\n      const passedCount = (_ref = (_ref2 = (_payload$passedCount = payload.passedCount) !== null && _payload$passedCount !== void 0 ? _payload$passedCount : payload.passed) !== null && _ref2 !== void 0 ? _ref2 : payload.passedTests) !== null && _ref !== void 0 ? _ref : 0;\n      const totalTests = (_ref3 = (_ref4 = (_payload$total = payload.total) !== null && _payload$total !== void 0 ? _payload$total : payload.totalTests) !== null && _ref4 !== void 0 ? _ref4 : payload.totalTestsCount) !== null && _ref3 !== void 0 ? _ref3 : 0;\n      const accepted = typeof passedCount === \"number\" && typeof totalTests === \"number\" && totalTests > 0 && passedCount === totalTests;\n      const userObj = payload.user || {\n        id: userIdFromPayload,\n        name: userIdFromPayload === myId ? (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.username) || \"You\" : \"Opponent\"\n      };\n      const normalized = {\n        user: userObj,\n        accepted,\n        passedTests: passedCount,\n        totalTests,\n        createdAt: payload.createdAt || payload.completedAt || Date.now()\n      };\n      setSubmissions(prev => [...prev, normalized]);\n      if (userIdFromPayload === myId) {\n        const labelBase = `Passed ${passedCount}/${totalTests} tests`;\n        setRunStatus(accepted ? `‚úÖ Accepted ‚Äì ${labelBase}` : `‚ö†Ô∏è Not accepted ‚Äì ${labelBase}`);\n      }\n    };\n    s.on(\"duel_submission_result\", handleSubmissionEvent);\n    s.on(\"duel_submission_update\", handleSubmissionEvent);\n    const onDuelFinished = ({\n      winner,\n      reason,\n      summary\n    } = {}) => {\n      setDuelEnded(true);\n      setWinnerSlot(winner || null);\n      setEndReason(reason || \"\");\n      if (summary !== null && summary !== void 0 && summary.submissions) setSubmissions(summary.submissions);\n      setTimeLeft(0);\n    };\n    s.on(\"duel_finished\", onDuelFinished);\n    s.on(\"duel_ended\", onDuelFinished);\n    return () => {\n      try {\n        s.emit(\"leave_duel\", {\n          roomId,\n          userId: myId\n        });\n      } catch (e) {}\n      s.removeAllListeners();\n      s.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [token, roomId, myId]);\n\n  // timer\n  useEffect(() => {\n    if (!duelStarted || duelEnded || !startAt || !timeLimit) return;\n    const tick = () => {\n      const now = Date.now();\n      const elapsed = Math.floor((now - startAt) / 1000);\n      const remaining = Math.max(timeLimit - elapsed, 0);\n      setTimeLeft(remaining);\n    };\n    tick();\n    const id = setInterval(tick, 1000);\n    return () => clearInterval(id);\n  }, [duelStarted, duelEnded, startAt, timeLimit]);\n  const me = useMemo(() => players.find(p => p.id === myId || p.userId === myId), [players, myId]);\n  const opponent = useMemo(() => players.find(p => (p.id || p.userId) !== myId), [players, myId]);\n  const statusText = useMemo(() => {\n    if (connError) return \"Error\";\n    if (connecting) return \"Connecting‚Ä¶\";\n    if (!duelStarted) return \"Waiting for players / start\";\n    if (duelEnded) return \"Duel finished\";\n    return \"Duel in progress\";\n  }, [connError, connecting, duelStarted, duelEnded]);\n  const editorReadOnly = duelEnded || !!connError || connecting;\n  const allowSubmit = duelStarted && !duelEnded && !connError;\n  const badge = difficultyBadgeMeta(problem === null || problem === void 0 ? void 0 : problem.difficulty);\n  const pText = problemText(problem);\n  const examples = (problem === null || problem === void 0 ? void 0 : problem.examples) || (problem === null || problem === void 0 ? void 0 : problem.exampleTests) || [];\n  const hasIO = (problem === null || problem === void 0 ? void 0 : problem.inputFormat) || (problem === null || problem === void 0 ? void 0 : problem.outputFormat) || (problem === null || problem === void 0 ? void 0 : problem.constraints);\n  const handleStart = () => {\n    if (!socket) return;\n    if (((players === null || players === void 0 ? void 0 : players.length) || 0) < 2) {\n      setConnError(\"Need at least 2 players to start the duel\");\n      return;\n    }\n    if (!isHost) {\n      setConnError(\"Only the host can start the duel\");\n      return;\n    }\n    socket.emit(\"start_duel\", {\n      duelId: roomId\n    }, resp => {\n      if (!(resp !== null && resp !== void 0 && resp.ok)) {\n        setConnError((resp === null || resp === void 0 ? void 0 : resp.message) || \"Failed to start duel\");\n      }\n    });\n  };\n  const handleUseExampleInput = input => {\n    if (!input) return;\n    setStdin(input);\n    const el = document.getElementById(\"duel-editor-section\");\n    if (el) el.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\"\n    });\n  };\n  const handleLanguageChange = nextLang => {\n    setLanguage(nextLang);\n    setCode(LANGUAGE_SNIPPETS[nextLang] || \"\");\n  };\n\n  // Run code using Judge0; if stdin empty, use example 1 input\n  const handleRunCode = async () => {\n    var _exs$, _exs$2;\n    const source = code !== null && code !== void 0 ? code : \"\";\n    if (!source.trim()) {\n      setRunOutput(\"Write some code before running.\");\n      return;\n    }\n    const exs = examples || [];\n    const fallbackInput = ((_exs$ = exs[0]) === null || _exs$ === void 0 ? void 0 : _exs$.input) || ((_exs$2 = exs[0]) === null || _exs$2 === void 0 ? void 0 : _exs$2.inputText) || \"\";\n    const effectiveInput = stdin && stdin.trim().length > 0 ? stdin : fallbackInput;\n    const expectsInput = source.includes(\"input(\") || source.includes(\"fs.readFileSync(0\") || source.includes(\"readLine()\");\n    if (!effectiveInput && expectsInput) {\n      setRunOutput(\"Your code expects input. Either type it in the Custom Input box or click 'Use as Input' on an example.\");\n      return;\n    }\n    setIsRunningCode(true);\n    setRunOutput(\"Running via Judge0‚Ä¶\");\n    try {\n      var _data$raw, _data$raw2;\n      const resp = await api.post(\"/judge/run\", {\n        code: source,\n        language,\n        input: effectiveInput\n      });\n      const data = resp.data || {};\n      const output = data.output || data.stdout || (data === null || data === void 0 ? void 0 : (_data$raw = data.raw) === null || _data$raw === void 0 ? void 0 : _data$raw.stdout) || (data === null || data === void 0 ? void 0 : (_data$raw2 = data.raw) === null || _data$raw2 === void 0 ? void 0 : _data$raw2.outputFallback) || \"Program finished with no output.\";\n      setRunOutput(output);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message || \"Error running code.\";\n      setRunOutput(`Error: ${msg}`);\n    } finally {\n      setIsRunningCode(false);\n    }\n  };\n\n  // UPDATED: use resp.accepted from socket ACK instead of staying on \"waiting...\"\n  const handleSubmit = () => {\n    if (!socket || !duelStarted || duelEnded) return;\n    const source = code !== null && code !== void 0 ? code : \"\";\n    if (!source.trim()) {\n      setRunStatus(\"Write some code before submitting.\");\n      return;\n    }\n    setIsSubmitting(true);\n    setRunStatus(\"\");\n    socket.emit(\"duel_submit_code\", {\n      duelId: roomId,\n      userId: myId,\n      code: source,\n      languageId: language,\n      stdin\n    }, resp => {\n      var _resp$judge, _resp$judge$status, _resp$judge2;\n      setIsSubmitting(false);\n      if (!resp) {\n        setRunStatus(\"No response from server\");\n        return;\n      }\n      if (!resp.ok) {\n        setRunStatus(`Submit failed: ${resp.message || \"Server error while submitting\"}`);\n        return;\n      }\n\n      // Verdict is returned directly in ACK by new socket.js\n      const accepted = !!resp.accepted;\n      const statusDesc = (resp === null || resp === void 0 ? void 0 : (_resp$judge = resp.judge) === null || _resp$judge === void 0 ? void 0 : (_resp$judge$status = _resp$judge.status) === null || _resp$judge$status === void 0 ? void 0 : _resp$judge$status.description) || (resp === null || resp === void 0 ? void 0 : (_resp$judge2 = resp.judge) === null || _resp$judge2 === void 0 ? void 0 : _resp$judge2.result) || (accepted ? \"Accepted\" : \"Not accepted\");\n      setRunStatus(accepted ? `‚úÖ Accepted ‚Äì ${statusDesc}` : `‚ö†Ô∏è Not accepted ‚Äì ${statusDesc}`);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-card\",\n      style: {\n        borderRadius: 28,\n        padding: 26,\n        border: \"1px solid #111827\",\n        background: \"radial-gradient(circle at top, rgba(168,85,247,0.16), transparent 60%), #050509\",\n        boxShadow: \"0 28px 90px rgba(0,0,0,0.95)\",\n        maxWidth: \"min(1400px, 95vw)\",\n        margin: \"0 auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 18,\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-heading\",\n          style: {\n            marginBottom: 0\n          },\n          children: \"1v1 Duel Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"page-subtitle\",\n          style: {\n            marginBottom: 0\n          },\n          children: [\"Room ID: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: roomId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 22\n          }, this), \" \\u2014 share this with your opponent. First to solve wins, or server decides when the timer expires.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: 12,\n            margin: 0,\n            color: \"#9ca3af\"\n          },\n          children: [\"Status: \", statusText, \" \\u2022 Time left: \", formatSeconds(timeLeft)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), connError && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 14,\n          padding: 10,\n          borderRadius: 12,\n          background: \"rgba(127,29,29,0.9)\",\n          border: \"1px solid rgba(248,113,113,0.7)\",\n          fontSize: 13,\n          color: \"#fee2e2\"\n        },\n        children: connError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fit, minmax(240px, 1fr))\",\n          gap: 18,\n          marginBottom: 22\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 18,\n            borderRadius: 22,\n            border: \"1px solid rgba(34,197,94,0.7)\",\n            background: \"radial-gradient(circle at top, rgba(22,163,74,0.25), transparent 60%), #020617\",\n            boxShadow: \"0 18px 45px rgba(0,0,0,0.9)\",\n            maxWidth: 360\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: 16,\n              fontWeight: 600,\n              marginBottom: 4,\n              color: \"#bbf7d0\"\n            },\n            children: \"You\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: 13,\n              color: \"#a7f3d0\"\n            },\n            children: me ? me.username || me.name : \"Waiting...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 28,\n              fontWeight: 800,\n              margin: \"8px 0 6px\"\n            },\n            children: (_me$rating = me === null || me === void 0 ? void 0 : me.rating) !== null && _me$rating !== void 0 ? _me$rating : \"‚Äî\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 11,\n              color: \"#bbf7d0\",\n              opacity: 0.85\n            },\n            children: \"Rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this), !duelStarted && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary\",\n            onClick: handleStart,\n            disabled: !socket || !!connError || players.length < 2 || !isHost,\n            style: {\n              marginTop: 10,\n              fontSize: 13\n            },\n            children: players.length < 2 ? \"Waiting for opponent‚Ä¶\" : isHost ? \"Start Duel\" : \"Waiting for host‚Ä¶\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 15\n          }, this), duelStarted && !duelEnded && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 12,\n              color: \"#cbd5f5\",\n              marginTop: 4\n            },\n            children: \"Duel in progress\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 18,\n            borderRadius: 22,\n            border: \"1px solid rgba(248,250,252,0.12)\",\n            background: \"radial-gradient(circle at top, rgba(248,250,252,0.1), transparent 60%), #020617\",\n            boxShadow: \"0 18px 45px rgba(0,0,0,0.9)\",\n            maxWidth: 360\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: 16,\n              fontWeight: 600,\n              marginBottom: 4,\n              color: \"#e5e7eb\"\n            },\n            children: \"Opponent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: 13,\n              color: \"#e5e7eb\"\n            },\n            children: opponent ? opponent.username || opponent.name : \"Waiting...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 28,\n              fontWeight: 800,\n              margin: \"8px 0 6px\"\n            },\n            children: (_opponent$rating = opponent === null || opponent === void 0 ? void 0 : opponent.rating) !== null && _opponent$rating !== void 0 ? _opponent$rating : \"‚Äî\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 11,\n              color: \"#9ca3af\",\n              opacity: 0.85\n            },\n            children: \"Rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this), duelEnded && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 18,\n          padding: 10,\n          borderRadius: 12,\n          background: \"rgba(15,23,42,0.9)\",\n          border: \"1px solid rgba(148,163,184,0.5)\",\n          fontSize: \"0.9rem\"\n        },\n        children: [winnerSlot === null || winnerSlot === \"draw\" ? \"Duel finished: draw.\" : winnerSlot === ((me === null || me === void 0 ? void 0 : me.slot) || (me === null || me === void 0 ? void 0 : me.id) || myId) ? \"Duel finished: You won! üéâ\" : \"Duel finished: Opponent won.\", endReason && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            opacity: 0.85\n          },\n          children: [\" \", \"(Reason: \", /*#__PURE__*/_jsxDEV(\"code\", {\n            children: endReason\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 26\n          }, this), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 11\n      }, this), submissions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 18,\n          padding: 10,\n          borderRadius: 12,\n          background: \"rgba(15,23,42,0.88)\",\n          border: \"1px solid rgba(55,65,81,0.8)\",\n          maxHeight: 140,\n          overflowY: \"auto\",\n          fontSize: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 6,\n            fontWeight: 600,\n            fontSize: 13,\n            color: \"#e5e7eb\"\n          },\n          children: \"Submission activity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 13\n        }, this), submissions.map((a, idx) => {\n          var _a$user, _a$user2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              gap: 8,\n              padding: \"2px 0\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: ((_a$user = a.user) === null || _a$user === void 0 ? void 0 : _a$user.name) || ((_a$user2 = a.user) === null || _a$user2 === void 0 ? void 0 : _a$user2.username) || \"Player\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 19\n              }, this), \" \", a.accepted ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#4ade80\"\n                },\n                children: \"Accepted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#fbbf24\"\n                },\n                children: \"Not accepted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                opacity: 0.8\n              },\n              children: typeof a.passedTests === \"number\" && typeof a.totalTests === \"number\" ? `${a.passedTests}/${a.totalTests}` : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"duel-editor-section\",\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"minmax(260px, 420px) minmax(0, 1fr)\",\n          gap: 18\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 18,\n            borderRadius: 22,\n            background: \"#020617\",\n            border: \"1px solid rgba(31,41,55,0.9)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                fontSize: 18,\n                fontWeight: 600,\n                margin: 0,\n                color: \"#e5e7eb\"\n              },\n              children: (problem === null || problem === void 0 ? void 0 : problem.title) || \"Battle Problem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 15\n            }, this), badge && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                padding: \"4px 10px\",\n                borderRadius: 999,\n                fontSize: 11,\n                fontWeight: 600,\n                background: badge.bg,\n                border: `1px solid ${badge.border}`,\n                color: badge.color\n              },\n              children: badge.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 13,\n              color: \"#d1d5db\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                fontSize: 13,\n                fontWeight: 600,\n                marginBottom: 4,\n                color: \"#e5e7eb\"\n              },\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                whiteSpace: \"pre-wrap\"\n              },\n              children: pText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 15\n            }, this), hasIO && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8\n              },\n              children: [problem.inputFormat && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  style: {\n                    fontSize: 13,\n                    fontWeight: 600,\n                    marginBottom: 4,\n                    color: \"#e5e7eb\"\n                  },\n                  children: \"Input Format\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: 13,\n                    color: \"#d1d5db\",\n                    whiteSpace: \"pre-wrap\"\n                  },\n                  children: problem.inputFormat\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 825,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 21\n              }, this), problem.outputFormat && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  style: {\n                    fontSize: 13,\n                    fontWeight: 600,\n                    marginBottom: 4,\n                    color: \"#e5e7eb\"\n                  },\n                  children: \"Output Format\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 838,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: 13,\n                    color: \"#d1d5db\",\n                    whiteSpace: \"pre-wrap\"\n                  },\n                  children: problem.outputFormat\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 848,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 837,\n                columnNumber: 21\n              }, this), problem.constraints && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  style: {\n                    fontSize: 13,\n                    fontWeight: 600,\n                    marginBottom: 4,\n                    color: \"#e5e7eb\"\n                  },\n                  children: \"Constraints\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 861,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                  style: {\n                    margin: 0,\n                    padding: 10,\n                    borderRadius: 10,\n                    fontSize: 12,\n                    background: \"#020617\",\n                    border: \"1px solid rgba(31,41,55,0.9)\",\n                    color: \"#e5e7eb\",\n                    whiteSpace: \"pre-wrap\"\n                  },\n                  children: problem.constraints\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 17\n            }, this), examples.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  fontSize: 14,\n                  fontWeight: 600,\n                  marginBottom: 8,\n                  color: \"#e5e7eb\"\n                },\n                children: \"Examples\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: 12\n                },\n                children: examples.map((ex, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    padding: 12,\n                    borderRadius: 14,\n                    background: \"#020617\",\n                    border: \"1px solid rgba(31,41,55,0.95)\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                      marginBottom: 6\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: 13,\n                        fontWeight: 600,\n                        color: \"#e5e7eb\"\n                      },\n                      children: [\"Example \", idx + 1]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 927,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-secondary\",\n                      style: {\n                        padding: \"4px 10px\",\n                        fontSize: 11,\n                        borderRadius: 999\n                      },\n                      onClick: () => handleUseExampleInput(ex.input),\n                      children: \"Use as Input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 936,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 919,\n                    columnNumber: 25\n                  }, this), ex.input && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginBottom: 6\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: 12,\n                        fontWeight: 600,\n                        color: \"#a5b4fc\"\n                      },\n                      children: \"Input:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 952,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                      style: {\n                        margin: 0,\n                        marginTop: 2,\n                        padding: 8,\n                        borderRadius: 8,\n                        fontSize: 12,\n                        background: \"#020617\",\n                        border: \"1px solid rgba(30,64,175,0.7)\",\n                        color: \"#e5e7eb\",\n                        whiteSpace: \"pre-wrap\"\n                      },\n                      children: ex.input\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 961,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 951,\n                    columnNumber: 27\n                  }, this), ex.output && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginBottom: 6\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: 12,\n                        fontWeight: 600,\n                        color: \"#6ee7b7\"\n                      },\n                      children: \"Output:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 981,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                      style: {\n                        margin: 0,\n                        marginTop: 2,\n                        padding: 8,\n                        borderRadius: 8,\n                        fontSize: 12,\n                        background: \"#020617\",\n                        border: \"1px solid rgba(22,163,74,0.7)\",\n                        color: \"#e5e7eb\",\n                        whiteSpace: \"pre-wrap\"\n                      },\n                      children: ex.output\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 990,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 980,\n                    columnNumber: 27\n                  }, this), ex.explanation && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: 12,\n                        fontWeight: 600,\n                        color: \"#facc15\"\n                      },\n                      children: \"Explanation:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1010,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        margin: 0,\n                        marginTop: 2,\n                        fontSize: 12,\n                        color: \"#e5e7eb\"\n                      },\n                      children: ex.explanation\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1019,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1009,\n                    columnNumber: 27\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 910,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 18,\n            borderRadius: 22,\n            background: \"#020617\",\n            border: \"1px solid rgba(31,41,55,0.9)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: 18,\n              fontWeight: 600,\n              margin: 0,\n              marginBottom: 6,\n              color: \"#e5e7eb\"\n            },\n            children: \"Your Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1048,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 12,\n              color: \"#9ca3af\",\n              marginBottom: 10\n            },\n            children: \"\\uD83D\\uDCA1 Use the examples on the left and the custom input below to test your solution, then submit to the duel. First accepted solution wins.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MonacoCodeRunner, {\n            value: code !== null && code !== void 0 ? code : \"\",\n            language: language,\n            onChange: next => setCode(next !== null && next !== void 0 ? next : \"\"),\n            onLanguageChange: handleLanguageChange,\n            onRun: handleRunCode,\n            onSubmit: allowSubmit ? handleSubmit : undefined,\n            runOutput: runOutput,\n            isRunning: isRunningCode,\n            isSubmitting: isSubmitting,\n            allowSubmit: allowSubmit,\n            readOnly: editorReadOnly\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: \"block\",\n                fontSize: 12,\n                color: \"#9ca3af\",\n                marginBottom: 4\n              },\n              children: \"Custom Input (stdin)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1087,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"input-control\",\n              rows: 3,\n              placeholder: \"Optional custom input\",\n              value: stdin,\n              onChange: e => setStdin(e.target.value),\n              style: {\n                fontSize: 13\n              },\n              disabled: editorReadOnly\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1086,\n            columnNumber: 13\n          }, this), runStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 13,\n              marginTop: 10,\n              color: runStatus.startsWith(\"‚úÖ\") ? \"#4ade80\" : \"#facc15\"\n            },\n            children: runStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1040,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 485,\n    columnNumber: 5\n  }, this);\n}\n_s(DuelRoomPage, \"rh3S/rMYrSz1rXr9ked/lXd64bg=\", false, function () {\n  return [useParams, useLocation, useNavigate, useAuth];\n});\n_c = DuelRoomPage;\nexport default DuelRoomPage;\nvar _c;\n$RefreshReg$(_c, \"DuelRoomPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useLocation","useNavigate","useParams","useAuth","createDuelSocket","MonacoCodeRunner","api","jsxDEV","_jsxDEV","formatSeconds","sec","Number","isNaN","h","Math","floor","m","s","toString","padStart","difficultyBadgeMeta","difficulty","d","toLowerCase","text","bg","border","color","problemText","problem","description","statement","body","content","DEFAULT_LANGUAGE","LANGUAGE_SNIPPETS","javascript","python","cpp","java","DuelRoomPage","_s","_location$state$isHos","_location$state","_me$rating","_opponent$rating","roomId","routeRoomId","location","navigate","user","token","myId","_id","id","isHost","state","socket","setSocket","connecting","setConnecting","connError","setConnError","players","setPlayers","setProblem","duelStarted","setDuelStarted","duelEnded","setDuelEnded","winnerSlot","setWinnerSlot","endReason","setEndReason","startAt","setStartAt","timeLimit","setTimeLimit","timeLeft","setTimeLeft","submissions","setSubmissions","language","setLanguage","code","setCode","stdin","setStdin","runOutput","setRunOutput","isRunningCode","setIsRunningCode","runStatus","setRunStatus","isSubmitting","setIsSubmitting","from","message","on","emit","duelId","userId","resp","ok","payload","p","started","problemObj","startedAt","startedAtMs","Date","now","tl","timeLimitSecs","timeLimitMs","problemId","problem_id","problemIdStr","_resp$data","get","data","err","console","warn","handleSubmissionEvent","_payload$user","_ref","_ref2","_payload$passedCount","_ref3","_ref4","_payload$total","userIdFromPayload","user_id","passedCount","passed","passedTests","totalTests","total","totalTestsCount","accepted","userObj","name","username","normalized","createdAt","completedAt","prev","labelBase","onDuelFinished","winner","reason","summary","e","removeAllListeners","disconnect","tick","elapsed","remaining","max","setInterval","clearInterval","me","find","opponent","statusText","editorReadOnly","allowSubmit","badge","pText","examples","exampleTests","hasIO","inputFormat","outputFormat","constraints","handleStart","length","handleUseExampleInput","input","el","document","getElementById","scrollIntoView","behavior","block","handleLanguageChange","nextLang","handleRunCode","_exs$","_exs$2","source","trim","exs","fallbackInput","inputText","effectiveInput","expectsInput","includes","_data$raw","_data$raw2","post","output","stdout","raw","outputFallback","_err$response","_err$response$data","_err$response2","_err$response2$data","msg","response","error","handleSubmit","languageId","_resp$judge","_resp$judge$status","_resp$judge2","statusDesc","judge","status","result","className","children","style","borderRadius","padding","background","boxShadow","maxWidth","margin","marginBottom","display","flexDirection","gap","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","gridTemplateColumns","fontWeight","rating","opacity","type","onClick","disabled","marginTop","slot","maxHeight","overflowY","map","a","idx","_a$user","_a$user2","justifyContent","alignItems","title","whiteSpace","ex","explanation","value","onChange","next","onLanguageChange","onRun","onSubmit","undefined","isRunning","readOnly","rows","placeholder","target","startsWith","_c","$RefreshReg$"],"sources":["C:/Users/abhig/OneDrive/Desktop/leetclone/client/src/pages/DuelRoomPage.js"],"sourcesContent":["// client/src/pages/DuelRoomPage.js\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { createDuelSocket } from \"../utils/duelSocket\";\r\nimport MonacoCodeRunner from \"../components/MonacoCodeRunner\";\r\nimport api from \"../utils/api\";\r\n\r\nfunction formatSeconds(sec) {\r\n  if (sec == null || Number.isNaN(sec)) return \"00:00\";\r\n  if (sec <= 0) return \"00:00\";\r\n  const h = Math.floor(sec / 3600);\r\n  const m = Math.floor((sec % 3600) / 60);\r\n  const s = sec % 60;\r\n  if (h > 0) {\r\n    return `${h.toString().padStart(2, \"0\")}:${m\r\n      .toString()\r\n      .padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\r\n  }\r\n  return `${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\r\n}\r\n\r\nfunction difficultyBadgeMeta(difficulty) {\r\n  const d = (difficulty || \"\").toLowerCase();\r\n  if (d === \"easy\")\r\n    return {\r\n      text: \"Easy\",\r\n      bg: \"rgba(22,163,74,0.18)\",\r\n      border: \"#16a34a\",\r\n      color: \"#4ade80\",\r\n    };\r\n  if (d === \"medium\")\r\n    return {\r\n      text: \"Medium\",\r\n      bg: \"rgba(245,158,11,0.18)\",\r\n      border: \"#f59e0b\",\r\n      color: \"#fbbf24\",\r\n    };\r\n  if (d === \"hard\")\r\n    return {\r\n      text: \"Hard\",\r\n      bg: \"rgba(239,68,68,0.18)\",\r\n      border: \"#ef4444\",\r\n      color: \"#f87171\",\r\n    };\r\n  return null;\r\n}\r\n\r\nfunction problemText(problem) {\r\n  if (!problem) return \"\";\r\n  return (\r\n    problem.description ||\r\n    problem.statement ||\r\n    problem.body ||\r\n    problem.content ||\r\n    \"\"\r\n  );\r\n}\r\n\r\nconst DEFAULT_LANGUAGE = \"python\";\r\n\r\nconst LANGUAGE_SNIPPETS = {\r\n  javascript: `// JavaScript template\r\nfunction solve() {\r\n  const fs = require(\"fs\");\r\n  const input = fs.readFileSync(0, \"utf8\").trim().split(\"\\\\n\");\r\n  // TODO: parse input and print answer\r\n  console.log(input.length);\r\n}\r\n\r\nsolve();`,\r\n  python: `# Python template\r\nimport sys\r\n\r\ndef solve():\r\n    data = sys.stdin.read().strip().splitlines()\r\n    # TODO: parse data and print answer\r\n    print(len(data))\r\n\r\nif __name__ == \"__main__\":\r\n    solve()`,\r\n  cpp: `#include <bits/stdc++.h>\r\nusing namespace std;\r\n\r\nint main() {\r\n    ios::sync_with_stdio(false);\r\n    cin.tie(nullptr);\r\n\r\n    vector<string> lines;\r\n    string line;\r\n    while (getline(cin, line)) {\r\n        lines.push_back(line);\r\n    }\r\n    // TODO: parse lines and print answer\r\n    cout << lines.size() << \"\\\\n\";\r\n    return 0;\r\n}`,\r\n  java: `import java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        List<String> lines = new ArrayList<>();\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            lines.add(line);\r\n        }\r\n        // TODO: parse lines and print answer\r\n        System.out.println(lines.size());\r\n    }\r\n}`,\r\n};\r\n\r\nfunction DuelRoomPage() {\r\n  const { roomId: routeRoomId } = useParams();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { user, token } = useAuth();\r\n\r\n  const roomId = routeRoomId;\r\n  const myId = user?._id || user?.id;\r\n  const isHost = location.state?.isHost ?? false;\r\n\r\n  const [socket, setSocket] = useState(null);\r\n  const [connecting, setConnecting] = useState(false);\r\n  const [connError, setConnError] = useState(\"\");\r\n\r\n  const [players, setPlayers] = useState([]);\r\n  const [problem, setProblem] = useState(null);\r\n  const [duelStarted, setDuelStarted] = useState(false);\r\n  const [duelEnded, setDuelEnded] = useState(false);\r\n  const [winnerSlot, setWinnerSlot] = useState(null);\r\n  const [endReason, setEndReason] = useState(\"\");\r\n  const [startAt, setStartAt] = useState(null);\r\n  const [timeLimit, setTimeLimit] = useState(600);\r\n  const [timeLeft, setTimeLeft] = useState(0);\r\n  const [submissions, setSubmissions] = useState([]);\r\n\r\n  const [language, setLanguage] = useState(DEFAULT_LANGUAGE);\r\n  const [code, setCode] = useState(null);\r\n  const [stdin, setStdin] = useState(\"\");\r\n  const [runOutput, setRunOutput] = useState(\"\");\r\n  const [isRunningCode, setIsRunningCode] = useState(false);\r\n  const [runStatus, setRunStatus] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // default template\r\n  useEffect(() => {\r\n    setCode(LANGUAGE_SNIPPETS[DEFAULT_LANGUAGE]);\r\n  }, []);\r\n\r\n  // auth guard\r\n  useEffect(() => {\r\n    if (!user || !token) {\r\n      navigate(\"/login\", {\r\n        state: {\r\n          from: `/duel-room/${roomId}`,\r\n          message: \"You must be logged in to join a duel\",\r\n        },\r\n      });\r\n    }\r\n  }, [user, token, navigate, roomId]);\r\n\r\n  // socket setup\r\n  useEffect(() => {\r\n    if (!token) return;\r\n\r\n    const s = createDuelSocket(token);\r\n    setSocket(s);\r\n    setConnecting(true);\r\n    setConnError(\"\");\r\n\r\n    s.on(\"connect\", () => {\r\n      setConnecting(false);\r\n      setConnError(\"\");\r\n\r\n      s.emit(\"join_duel\", { duelId: roomId, userId: myId }, (resp) => {\r\n        if (!resp?.ok && !resp?.roomId) {\r\n          setConnError(resp?.message || \"Failed to join room\");\r\n        }\r\n      });\r\n    });\r\n\r\n    s.on(\"disconnect\", () => {\r\n      setConnError(\"Disconnected from server\");\r\n    });\r\n\r\n    s.on(\"duel_error\", (payload) => {\r\n      setConnError(payload?.message || \"Duel error\");\r\n    });\r\n\r\n    s.on(\"room_update\", ({ players: p, started }) => {\r\n      setPlayers(p || []);\r\n      setDuelStarted(!!started);\r\n    });\r\n\r\n    s.on(\"duel_started\", async (payload = {}) => {\r\n      let problemObj = payload.problem || payload.problemObj || null;\r\n      const startedAt =\r\n        payload.startedAt || payload.startedAtMs || payload.startAt || Date.now();\r\n      const tl =\r\n        payload.timeLimit || payload.timeLimitSecs || payload.timeLimitMs || 600;\r\n\r\n      if (\r\n        !problemObj &&\r\n        (payload.problemId || payload.problem_id || payload.problemIdStr)\r\n      ) {\r\n        const id =\r\n          payload.problemId || payload.problem_id || payload.problemIdStr;\r\n        try {\r\n          const resp = await api.get(`/problems/${id}`);\r\n          problemObj = resp.data?.problem || resp.data;\r\n        } catch (err) {\r\n          console.warn(\"Failed to fetch problem\", err);\r\n        }\r\n      }\r\n\r\n      setProblem(problemObj || null);\r\n      setStartAt(startedAt);\r\n      setTimeLimit(typeof tl === \"number\" ? tl : 600);\r\n      setDuelStarted(true);\r\n      setDuelEnded(false);\r\n      setWinnerSlot(null);\r\n      setEndReason(\"\");\r\n      setSubmissions([]);\r\n      setRunStatus(\"\");\r\n    });\r\n\r\n    const handleSubmissionEvent = (payload = {}) => {\r\n      const userIdFromPayload =\r\n        payload.userId || payload.user_id || payload.user?.id;\r\n\r\n      const passedCount =\r\n        payload.passedCount ??\r\n        payload.passed ??\r\n        payload.passedTests ??\r\n        0;\r\n      const totalTests =\r\n        payload.total ??\r\n        payload.totalTests ??\r\n        payload.totalTestsCount ??\r\n        0;\r\n\r\n      const accepted =\r\n        typeof passedCount === \"number\" &&\r\n        typeof totalTests === \"number\" &&\r\n        totalTests > 0 &&\r\n        passedCount === totalTests;\r\n\r\n      const userObj =\r\n        payload.user ||\r\n        {\r\n          id: userIdFromPayload,\r\n          name:\r\n            userIdFromPayload === myId\r\n              ? user?.name || user?.username || \"You\"\r\n              : \"Opponent\",\r\n        };\r\n\r\n      const normalized = {\r\n        user: userObj,\r\n        accepted,\r\n        passedTests: passedCount,\r\n        totalTests,\r\n        createdAt: payload.createdAt || payload.completedAt || Date.now(),\r\n      };\r\n\r\n      setSubmissions((prev) => [...prev, normalized]);\r\n\r\n      if (userIdFromPayload === myId) {\r\n        const labelBase = `Passed ${passedCount}/${totalTests} tests`;\r\n        setRunStatus(\r\n          accepted\r\n            ? `‚úÖ Accepted ‚Äì ${labelBase}`\r\n            : `‚ö†Ô∏è Not accepted ‚Äì ${labelBase}`\r\n        );\r\n      }\r\n    };\r\n\r\n    s.on(\"duel_submission_result\", handleSubmissionEvent);\r\n    s.on(\"duel_submission_update\", handleSubmissionEvent);\r\n\r\n    const onDuelFinished = ({ winner, reason, summary } = {}) => {\r\n      setDuelEnded(true);\r\n      setWinnerSlot(winner || null);\r\n      setEndReason(reason || \"\");\r\n      if (summary?.submissions) setSubmissions(summary.submissions);\r\n      setTimeLeft(0);\r\n    };\r\n    s.on(\"duel_finished\", onDuelFinished);\r\n    s.on(\"duel_ended\", onDuelFinished);\r\n\r\n    return () => {\r\n      try {\r\n        s.emit(\"leave_duel\", { roomId, userId: myId });\r\n      } catch (e) {}\r\n      s.removeAllListeners();\r\n      s.disconnect();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [token, roomId, myId]);\r\n\r\n  // timer\r\n  useEffect(() => {\r\n    if (!duelStarted || duelEnded || !startAt || !timeLimit) return;\r\n\r\n    const tick = () => {\r\n      const now = Date.now();\r\n      const elapsed = Math.floor((now - startAt) / 1000);\r\n      const remaining = Math.max(timeLimit - elapsed, 0);\r\n      setTimeLeft(remaining);\r\n    };\r\n\r\n    tick();\r\n    const id = setInterval(tick, 1000);\r\n    return () => clearInterval(id);\r\n  }, [duelStarted, duelEnded, startAt, timeLimit]);\r\n\r\n  const me = useMemo(\r\n    () => players.find((p) => p.id === myId || p.userId === myId),\r\n    [players, myId]\r\n  );\r\n  const opponent = useMemo(\r\n    () => players.find((p) => (p.id || p.userId) !== myId),\r\n    [players, myId]\r\n  );\r\n\r\n  const statusText = useMemo(() => {\r\n    if (connError) return \"Error\";\r\n    if (connecting) return \"Connecting‚Ä¶\";\r\n    if (!duelStarted) return \"Waiting for players / start\";\r\n    if (duelEnded) return \"Duel finished\";\r\n    return \"Duel in progress\";\r\n  }, [connError, connecting, duelStarted, duelEnded]);\r\n\r\n  const editorReadOnly = duelEnded || !!connError || connecting;\r\n  const allowSubmit = duelStarted && !duelEnded && !connError;\r\n\r\n  const badge = difficultyBadgeMeta(problem?.difficulty);\r\n  const pText = problemText(problem);\r\n  const examples =\r\n    problem?.examples || problem?.exampleTests || [];\r\n  const hasIO =\r\n    problem?.inputFormat || problem?.outputFormat || problem?.constraints;\r\n\r\n  const handleStart = () => {\r\n    if (!socket) return;\r\n    if ((players?.length || 0) < 2) {\r\n      setConnError(\"Need at least 2 players to start the duel\");\r\n      return;\r\n    }\r\n    if (!isHost) {\r\n      setConnError(\"Only the host can start the duel\");\r\n      return;\r\n    }\r\n    socket.emit(\"start_duel\", { duelId: roomId }, (resp) => {\r\n      if (!resp?.ok) {\r\n        setConnError(resp?.message || \"Failed to start duel\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleUseExampleInput = (input) => {\r\n    if (!input) return;\r\n    setStdin(input);\r\n    const el = document.getElementById(\"duel-editor-section\");\r\n    if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n  };\r\n\r\n  const handleLanguageChange = (nextLang) => {\r\n    setLanguage(nextLang);\r\n    setCode(LANGUAGE_SNIPPETS[nextLang] || \"\");\r\n  };\r\n\r\n  // Run code using Judge0; if stdin empty, use example 1 input\r\n  const handleRunCode = async () => {\r\n    const source = code ?? \"\";\r\n    if (!source.trim()) {\r\n      setRunOutput(\"Write some code before running.\");\r\n      return;\r\n    }\r\n\r\n    const exs = examples || [];\r\n    const fallbackInput =\r\n      exs[0]?.input || exs[0]?.inputText || \"\";\r\n\r\n    const effectiveInput =\r\n      stdin && stdin.trim().length > 0 ? stdin : fallbackInput;\r\n\r\n    const expectsInput =\r\n      source.includes(\"input(\") ||\r\n      source.includes(\"fs.readFileSync(0\") ||\r\n      source.includes(\"readLine()\");\r\n\r\n    if (!effectiveInput && expectsInput) {\r\n      setRunOutput(\r\n        \"Your code expects input. Either type it in the Custom Input box or click 'Use as Input' on an example.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    setIsRunningCode(true);\r\n    setRunOutput(\"Running via Judge0‚Ä¶\");\r\n    try {\r\n      const resp = await api.post(\"/judge/run\", {\r\n        code: source,\r\n        language,\r\n        input: effectiveInput,\r\n      });\r\n      const data = resp.data || {};\r\n      const output =\r\n        data.output ||\r\n        data.stdout ||\r\n        data?.raw?.stdout ||\r\n        data?.raw?.outputFallback ||\r\n        \"Program finished with no output.\";\r\n      setRunOutput(output);\r\n    } catch (err) {\r\n      const msg =\r\n        err.response?.data?.error ||\r\n        err.response?.data?.message ||\r\n        err.message ||\r\n        \"Error running code.\";\r\n      setRunOutput(`Error: ${msg}`);\r\n    } finally {\r\n      setIsRunningCode(false);\r\n    }\r\n  };\r\n\r\n  // UPDATED: use resp.accepted from socket ACK instead of staying on \"waiting...\"\r\n  const handleSubmit = () => {\r\n    if (!socket || !duelStarted || duelEnded) return;\r\n\r\n    const source = code ?? \"\";\r\n    if (!source.trim()) {\r\n      setRunStatus(\"Write some code before submitting.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setRunStatus(\"\");\r\n\r\n    socket.emit(\r\n      \"duel_submit_code\",\r\n      {\r\n        duelId: roomId,\r\n        userId: myId,\r\n        code: source,\r\n        languageId: language,\r\n        stdin,\r\n      },\r\n      (resp) => {\r\n        setIsSubmitting(false);\r\n\r\n        if (!resp) {\r\n          setRunStatus(\"No response from server\");\r\n          return;\r\n        }\r\n\r\n        if (!resp.ok) {\r\n          setRunStatus(\r\n            `Submit failed: ${resp.message || \"Server error while submitting\"}`\r\n          );\r\n          return;\r\n        }\r\n\r\n        // Verdict is returned directly in ACK by new socket.js\r\n        const accepted = !!resp.accepted;\r\n        const statusDesc =\r\n          resp?.judge?.status?.description ||\r\n          resp?.judge?.result ||\r\n          (accepted ? \"Accepted\" : \"Not accepted\");\r\n\r\n        setRunStatus(\r\n          accepted\r\n            ? `‚úÖ Accepted ‚Äì ${statusDesc}`\r\n            : `‚ö†Ô∏è Not accepted ‚Äì ${statusDesc}`\r\n        );\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <div\r\n        className=\"page-card\"\r\n        style={{\r\n          borderRadius: 28,\r\n          padding: 26,\r\n          border: \"1px solid #111827\",\r\n          background:\r\n            \"radial-gradient(circle at top, rgba(168,85,247,0.16), transparent 60%), #050509\",\r\n          boxShadow: \"0 28px 90px rgba(0,0,0,0.95)\",\r\n          maxWidth: \"min(1400px, 95vw)\",\r\n          margin: \"0 auto\",\r\n        }}\r\n      >\r\n        {/* Header */}\r\n        <div\r\n          style={{\r\n            marginBottom: 18,\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            gap: 6,\r\n          }}\r\n        >\r\n          <h1 className=\"page-heading\" style={{ marginBottom: 0 }}>\r\n            1v1 Duel Room\r\n          </h1>\r\n          <p className=\"page-subtitle\" style={{ marginBottom: 0 }}>\r\n            Room ID: <strong>{roomId}</strong> ‚Äî share this with your opponent.\r\n            First to solve wins, or server decides when the timer expires.\r\n          </p>\r\n          <p style={{ fontSize: 12, margin: 0, color: \"#9ca3af\" }}>\r\n            Status: {statusText} ‚Ä¢ Time left: {formatSeconds(timeLeft)}\r\n          </p>\r\n        </div>\r\n\r\n        {connError && (\r\n          <div\r\n            style={{\r\n              marginBottom: 14,\r\n              padding: 10,\r\n              borderRadius: 12,\r\n              background: \"rgba(127,29,29,0.9)\",\r\n              border: \"1px solid rgba(248,113,113,0.7)\",\r\n              fontSize: 13,\r\n              color: \"#fee2e2\",\r\n            }}\r\n          >\r\n            {connError}\r\n          </div>\r\n        )}\r\n\r\n        {/* Player cards */}\r\n        <div\r\n          style={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"repeat(auto-fit, minmax(240px, 1fr))\",\r\n            gap: 18,\r\n            marginBottom: 22,\r\n          }}\r\n        >\r\n          {/* You */}\r\n          <div\r\n            style={{\r\n              padding: 18,\r\n              borderRadius: 22,\r\n              border: \"1px solid rgba(34,197,94,0.7)\",\r\n              background:\r\n                \"radial-gradient(circle at top, rgba(22,163,74,0.25), transparent 60%), #020617\",\r\n              boxShadow: \"0 18px 45px rgba(0,0,0,0.9)\",\r\n              maxWidth: 360,\r\n            }}\r\n          >\r\n            <h3\r\n              style={{\r\n                fontSize: 16,\r\n                fontWeight: 600,\r\n                marginBottom: 4,\r\n                color: \"#bbf7d0\",\r\n              }}\r\n            >\r\n              You\r\n            </h3>\r\n            <p style={{ margin: 0, fontSize: 13, color: \"#a7f3d0\" }}>\r\n              {me ? me.username || me.name : \"Waiting...\"}\r\n            </p>\r\n            <p\r\n              style={{\r\n                fontSize: 28,\r\n                fontWeight: 800,\r\n                margin: \"8px 0 6px\",\r\n              }}\r\n            >\r\n              {me?.rating ?? \"‚Äî\"}\r\n            </p>\r\n            <p\r\n              style={{\r\n                fontSize: 11,\r\n                color: \"#bbf7d0\",\r\n                opacity: 0.85,\r\n              }}\r\n            >\r\n              Rating\r\n            </p>\r\n\r\n            {!duelStarted && (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={handleStart}\r\n                disabled={\r\n                  !socket || !!connError || players.length < 2 || !isHost\r\n                }\r\n                style={{ marginTop: 10, fontSize: 13 }}\r\n              >\r\n                {players.length < 2\r\n                  ? \"Waiting for opponent‚Ä¶\"\r\n                  : isHost\r\n                  ? \"Start Duel\"\r\n                  : \"Waiting for host‚Ä¶\"}\r\n              </button>\r\n            )}\r\n\r\n            {duelStarted && !duelEnded && (\r\n              <p\r\n                style={{\r\n                  fontSize: 12,\r\n                  color: \"#cbd5f5\",\r\n                  marginTop: 4,\r\n                }}\r\n              >\r\n                Duel in progress‚Ä¶\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Opponent */}\r\n          <div\r\n            style={{\r\n              padding: 18,\r\n              borderRadius: 22,\r\n              border: \"1px solid rgba(248,250,252,0.12)\",\r\n              background:\r\n                \"radial-gradient(circle at top, rgba(248,250,252,0.1), transparent 60%), #020617\",\r\n              boxShadow: \"0 18px 45px rgba(0,0,0,0.9)\",\r\n              maxWidth: 360,\r\n            }}\r\n          >\r\n            <h3\r\n              style={{\r\n                fontSize: 16,\r\n                fontWeight: 600,\r\n                marginBottom: 4,\r\n                color: \"#e5e7eb\",\r\n              }}\r\n            >\r\n              Opponent\r\n            </h3>\r\n            <p style={{ margin: 0, fontSize: 13, color: \"#e5e7eb\" }}>\r\n              {opponent ? opponent.username || opponent.name : \"Waiting...\"}\r\n            </p>\r\n            <p\r\n              style={{\r\n                fontSize: 28,\r\n                fontWeight: 800,\r\n                margin: \"8px 0 6px\",\r\n              }}\r\n            >\r\n              {opponent?.rating ?? \"‚Äî\"}\r\n            </p>\r\n            <p\r\n              style={{\r\n                fontSize: 11,\r\n                color: \"#9ca3af\",\r\n                opacity: 0.85,\r\n              }}\r\n            >\r\n              Rating\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Duel result banner */}\r\n        {duelEnded && (\r\n          <div\r\n            style={{\r\n              marginBottom: 18,\r\n              padding: 10,\r\n              borderRadius: 12,\r\n              background: \"rgba(15,23,42,0.9)\",\r\n              border: \"1px solid rgba(148,163,184,0.5)\",\r\n              fontSize: \"0.9rem\",\r\n            }}\r\n          >\r\n            {winnerSlot === null || winnerSlot === \"draw\"\r\n              ? \"Duel finished: draw.\"\r\n              : winnerSlot === (me?.slot || me?.id || myId)\r\n              ? \"Duel finished: You won! üéâ\"\r\n              : \"Duel finished: Opponent won.\"}\r\n            {endReason && (\r\n              <span style={{ opacity: 0.85 }}>\r\n                {\" \"}\r\n                (Reason: <code>{endReason}</code>)\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Submission activity */}\r\n        {submissions.length > 0 && (\r\n          <div\r\n            style={{\r\n              marginBottom: 18,\r\n              padding: 10,\r\n              borderRadius: 12,\r\n              background: \"rgba(15,23,42,0.88)\",\r\n              border: \"1px solid rgba(55,65,81,0.8)\",\r\n              maxHeight: 140,\r\n              overflowY: \"auto\",\r\n              fontSize: 12,\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                marginBottom: 6,\r\n                fontWeight: 600,\r\n                fontSize: 13,\r\n                color: \"#e5e7eb\",\r\n              }}\r\n            >\r\n              Submission activity\r\n            </div>\r\n            {submissions.map((a, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  gap: 8,\r\n                  padding: \"2px 0\",\r\n                }}\r\n              >\r\n                <span>\r\n                  <strong>{a.user?.name || a.user?.username || \"Player\"}</strong>{\" \"}\r\n                  {a.accepted ? (\r\n                    <span style={{ color: \"#4ade80\" }}>Accepted</span>\r\n                  ) : (\r\n                    <span style={{ color: \"#fbbf24\" }}>Not accepted</span>\r\n                  )}\r\n                </span>\r\n                <span style={{ opacity: 0.8 }}>\r\n                  {typeof a.passedTests === \"number\" &&\r\n                  typeof a.totalTests === \"number\"\r\n                    ? `${a.passedTests}/${a.totalTests}`\r\n                    : \"\"}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Main problem + editor layout */}\r\n        <div\r\n          id=\"duel-editor-section\"\r\n          style={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"minmax(260px, 420px) minmax(0, 1fr)\",\r\n            gap: 18,\r\n          }}\r\n        >\r\n          {/* Problem panel */}\r\n          <div\r\n            style={{\r\n              padding: 18,\r\n              borderRadius: 22,\r\n              background: \"#020617\",\r\n              border: \"1px solid rgba(31,41,55,0.9)\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\",\r\n                marginBottom: 8,\r\n              }}\r\n            >\r\n              <h2\r\n                style={{\r\n                  fontSize: 18,\r\n                  fontWeight: 600,\r\n                  margin: 0,\r\n                  color: \"#e5e7eb\",\r\n                }}\r\n              >\r\n                {problem?.title || \"Battle Problem\"}\r\n              </h2>\r\n              {badge && (\r\n                <span\r\n                  style={{\r\n                    padding: \"4px 10px\",\r\n                    borderRadius: 999,\r\n                    fontSize: 11,\r\n                    fontWeight: 600,\r\n                    background: badge.bg,\r\n                    border: `1px solid ${badge.border}`,\r\n                    color: badge.color,\r\n                  }}\r\n                >\r\n                  {badge.text}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            <div style={{ fontSize: 13, color: \"#d1d5db\" }}>\r\n              <h3\r\n                style={{\r\n                  fontSize: 13,\r\n                  fontWeight: 600,\r\n                  marginBottom: 4,\r\n                  color: \"#e5e7eb\",\r\n                }}\r\n              >\r\n                Description\r\n              </h3>\r\n              <p style={{ whiteSpace: \"pre-wrap\" }}>{pText}</p>\r\n\r\n              {hasIO && (\r\n                <div style={{ marginTop: 8 }}>\r\n                  {problem.inputFormat && (\r\n                    <div>\r\n                      <h4\r\n                        style={{\r\n                          fontSize: 13,\r\n                          fontWeight: 600,\r\n                          marginBottom: 4,\r\n                          color: \"#e5e7eb\",\r\n                        }}\r\n                      >\r\n                        Input Format\r\n                      </h4>\r\n                      <p\r\n                        style={{\r\n                          fontSize: 13,\r\n                          color: \"#d1d5db\",\r\n                          whiteSpace: \"pre-wrap\",\r\n                        }}\r\n                      >\r\n                        {problem.inputFormat}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {problem.outputFormat && (\r\n                    <div>\r\n                      <h4\r\n                        style={{\r\n                          fontSize: 13,\r\n                          fontWeight: 600,\r\n                          marginBottom: 4,\r\n                          color: \"#e5e7eb\",\r\n                        }}\r\n                      >\r\n                        Output Format\r\n                      </h4>\r\n                      <p\r\n                        style={{\r\n                          fontSize: 13,\r\n                          color: \"#d1d5db\",\r\n                          whiteSpace: \"pre-wrap\",\r\n                        }}\r\n                      >\r\n                        {problem.outputFormat}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {problem.constraints && (\r\n                    <div>\r\n                      <h4\r\n                        style={{\r\n                          fontSize: 13,\r\n                          fontWeight: 600,\r\n                          marginBottom: 4,\r\n                          color: \"#e5e7eb\",\r\n                        }}\r\n                      >\r\n                        Constraints\r\n                      </h4>\r\n                      <pre\r\n                        style={{\r\n                          margin: 0,\r\n                          padding: 10,\r\n                          borderRadius: 10,\r\n                          fontSize: 12,\r\n                          background: \"#020617\",\r\n                          border: \"1px solid rgba(31,41,55,0.9)\",\r\n                          color: \"#e5e7eb\",\r\n                          whiteSpace: \"pre-wrap\",\r\n                        }}\r\n                      >\r\n                        {problem.constraints}\r\n                      </pre>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {examples.length > 0 && (\r\n                <div style={{ marginTop: 4 }}>\r\n                  <h3\r\n                    style={{\r\n                      fontSize: 14,\r\n                      fontWeight: 600,\r\n                      marginBottom: 8,\r\n                      color: \"#e5e7eb\",\r\n                    }}\r\n                  >\r\n                    Examples\r\n                  </h3>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      gap: 12,\r\n                    }}\r\n                  >\r\n                    {examples.map((ex, idx) => (\r\n                      <div\r\n                        key={idx}\r\n                        style={{\r\n                          padding: 12,\r\n                          borderRadius: 14,\r\n                          background: \"#020617\",\r\n                          border: \"1px solid rgba(31,41,55,0.95)\",\r\n                        }}\r\n                      >\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            justifyContent: \"space-between\",\r\n                            alignItems: \"center\",\r\n                            marginBottom: 6,\r\n                          }}\r\n                        >\r\n                          <span\r\n                            style={{\r\n                              fontSize: 13,\r\n                              fontWeight: 600,\r\n                              color: \"#e5e7eb\",\r\n                            }}\r\n                          >\r\n                            Example {idx + 1}\r\n                          </span>\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-secondary\"\r\n                            style={{\r\n                              padding: \"4px 10px\",\r\n                              fontSize: 11,\r\n                              borderRadius: 999,\r\n                            }}\r\n                            onClick={() => handleUseExampleInput(ex.input)}\r\n                          >\r\n                            Use as Input\r\n                          </button>\r\n                        </div>\r\n\r\n                        {ex.input && (\r\n                          <div style={{ marginBottom: 6 }}>\r\n                            <span\r\n                              style={{\r\n                                fontSize: 12,\r\n                                fontWeight: 600,\r\n                                color: \"#a5b4fc\",\r\n                              }}\r\n                            >\r\n                              Input:\r\n                            </span>\r\n                            <pre\r\n                              style={{\r\n                                margin: 0,\r\n                                marginTop: 2,\r\n                                padding: 8,\r\n                                borderRadius: 8,\r\n                                fontSize: 12,\r\n                                background: \"#020617\",\r\n                                border: \"1px solid rgba(30,64,175,0.7)\",\r\n                                color: \"#e5e7eb\",\r\n                                whiteSpace: \"pre-wrap\",\r\n                              }}\r\n                            >\r\n                              {ex.input}\r\n                            </pre>\r\n                          </div>\r\n                        )}\r\n\r\n                        {ex.output && (\r\n                          <div style={{ marginBottom: 6 }}>\r\n                            <span\r\n                              style={{\r\n                                fontSize: 12,\r\n                                fontWeight: 600,\r\n                                color: \"#6ee7b7\",\r\n                              }}\r\n                            >\r\n                              Output:\r\n                            </span>\r\n                            <pre\r\n                              style={{\r\n                                margin: 0,\r\n                                marginTop: 2,\r\n                                padding: 8,\r\n                                borderRadius: 8,\r\n                                fontSize: 12,\r\n                                background: \"#020617\",\r\n                                border: \"1px solid rgba(22,163,74,0.7)\",\r\n                                color: \"#e5e7eb\",\r\n                                whiteSpace: \"pre-wrap\",\r\n                              }}\r\n                            >\r\n                              {ex.output}\r\n                            </pre>\r\n                          </div>\r\n                        )}\r\n\r\n                        {ex.explanation && (\r\n                          <div>\r\n                            <span\r\n                              style={{\r\n                                fontSize: 12,\r\n                                fontWeight: 600,\r\n                                color: \"#facc15\",\r\n                              }}\r\n                            >\r\n                              Explanation:\r\n                            </span>\r\n                            <p\r\n                              style={{\r\n                                margin: 0,\r\n                                marginTop: 2,\r\n                                fontSize: 12,\r\n                                color: \"#e5e7eb\",\r\n                              }}\r\n                            >\r\n                              {ex.explanation}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Editor panel */}\r\n          <div\r\n            style={{\r\n              padding: 18,\r\n              borderRadius: 22,\r\n              background: \"#020617\",\r\n              border: \"1px solid rgba(31,41,55,0.9)\",\r\n            }}\r\n          >\r\n            <h2\r\n              style={{\r\n                fontSize: 18,\r\n                fontWeight: 600,\r\n                margin: 0,\r\n                marginBottom: 6,\r\n                color: \"#e5e7eb\",\r\n              }}\r\n            >\r\n              Your Code\r\n            </h2>\r\n\r\n            <p\r\n              style={{\r\n                fontSize: 12,\r\n                color: \"#9ca3af\",\r\n                marginBottom: 10,\r\n              }}\r\n            >\r\n              üí° Use the examples on the left and the custom input below to test\r\n              your solution, then submit to the duel. First accepted solution\r\n              wins.\r\n            </p>\r\n\r\n            <MonacoCodeRunner\r\n              value={code ?? \"\"}\r\n              language={language}\r\n              onChange={(next) => setCode(next ?? \"\")}\r\n              onLanguageChange={handleLanguageChange}\r\n              onRun={handleRunCode}\r\n              onSubmit={allowSubmit ? handleSubmit : undefined}\r\n              runOutput={runOutput}\r\n              isRunning={isRunningCode}\r\n              isSubmitting={isSubmitting}\r\n              allowSubmit={allowSubmit}\r\n              readOnly={editorReadOnly}\r\n            />\r\n\r\n            <div style={{ marginTop: 12 }}>\r\n              <label\r\n                style={{\r\n                  display: \"block\",\r\n                  fontSize: 12,\r\n                  color: \"#9ca3af\",\r\n                  marginBottom: 4,\r\n                }}\r\n              >\r\n                Custom Input (stdin)\r\n              </label>\r\n              <textarea\r\n                className=\"input-control\"\r\n                rows={3}\r\n                placeholder=\"Optional custom input\"\r\n                value={stdin}\r\n                onChange={(e) => setStdin(e.target.value)}\r\n                style={{ fontSize: 13 }}\r\n                disabled={editorReadOnly}\r\n              />\r\n            </div>\r\n\r\n            {runStatus && (\r\n              <p\r\n                style={{\r\n                  fontSize: 13,\r\n                  marginTop: 10,\r\n                  color: runStatus.startsWith(\"‚úÖ\") ? \"#4ade80\" : \"#facc15\",\r\n                }}\r\n              >\r\n                {runStatus}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DuelRoomPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}