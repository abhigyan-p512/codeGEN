{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhig\\\\OneDrive\\\\Desktop\\\\leetclone\\\\client\\\\src\\\\pages\\\\DuelRoomPage.js\",\n  _s = $RefreshSig$();\n// client/src/pages/DuelRoomPage.js\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport MonacoCodeRunner from \"../components/MonacoCodeRunner\";\nimport { useAuth } from \"../context/AuthContext\";\nimport api from \"../utils/api\";\nimport createDuelSocket from \"../utils/duelSocket\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DEFAULT_LANGUAGE = \"python\";\nconst styles = {\n  page: {\n    minHeight: \"100vh\",\n    background: \"#020617\",\n    color: \"#e5e7eb\",\n    padding: \"24px\",\n    boxSizing: \"border-box\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"16px\"\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    gap: \"16px\"\n  },\n  titleBlock: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"4px\"\n  },\n  title: {\n    margin: 0,\n    fontSize: \"26px\",\n    fontWeight: 700\n  },\n  status: {\n    fontSize: \"13px\",\n    opacity: 0.8\n  },\n  substatus: {\n    fontSize: \"13px\",\n    opacity: 0.75\n  },\n  main: {\n    display: \"grid\",\n    gridTemplateColumns: \"minmax(0, 1.1fr) minmax(0, 1.3fr)\",\n    gap: \"18px\",\n    alignItems: \"stretch\"\n  },\n  problemPanel: {\n    background: \"#020617\",\n    borderRadius: \"14px\",\n    padding: \"16px\",\n    border: \"1px solid #1f2937\",\n    boxShadow: \"0 0 0 1px rgba(15, 23, 42, 0.6)\",\n    overflowY: \"auto\",\n    maxHeight: \"calc(100vh - 210px)\"\n  },\n  problemTitle: {\n    marginTop: 0,\n    marginBottom: \"8px\",\n    fontSize: \"18px\",\n    fontWeight: 600\n  },\n  problemDescription: {\n    fontSize: \"14px\",\n    lineHeight: 1.6,\n    whiteSpace: \"pre-wrap\"\n  },\n  problemSubheading: {\n    marginTop: \"16px\",\n    marginBottom: \"6px\",\n    fontSize: \"14px\",\n    fontWeight: 600\n  },\n  problemConstraints: {\n    background: \"#020617\",\n    borderRadius: \"8px\",\n    border: \"1px solid #1f2937\",\n    padding: \"8px\",\n    fontSize: \"13px\",\n    whiteSpace: \"pre-wrap\"\n  },\n  exampleBox: {\n    marginBottom: \"10px\",\n    padding: \"8px\",\n    borderRadius: \"8px\",\n    border: \"1px solid #1f2937\",\n    background: \"#020617\"\n  },\n  exampleBlock: {\n    marginBottom: \"4px\",\n    fontSize: \"13px\"\n  },\n  examplePre: {\n    margin: \"4px 0 0\",\n    padding: \"6px\",\n    borderRadius: \"6px\",\n    background: \"#020617\",\n    border: \"1px solid #111827\",\n    fontSize: \"12px\",\n    whiteSpace: \"pre-wrap\"\n  },\n  waitingProblemTitle: {\n    margin: 0,\n    marginBottom: \"6px\",\n    fontSize: \"16px\",\n    fontWeight: 600\n  },\n  waitingProblemText: {\n    fontSize: \"14px\",\n    opacity: 0.8\n  },\n  editorPanel: {\n    background: \"#020617\",\n    borderRadius: \"14px\",\n    padding: \"8px\",\n    border: \"1px solid #1f2937\",\n    boxShadow: \"0 0 0 1px rgba(15, 23, 42, 0.6)\",\n    maxHeight: \"calc(100vh - 210px)\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  editorPanelChild: {\n    flex: 1,\n    minHeight: 0\n  },\n  // Header actions\n  headerActions: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"10px\",\n    flexShrink: 0\n  },\n  duelCodeText: {\n    fontSize: \"12px\",\n    opacity: 0.75\n  },\n  buttonBase: {\n    borderRadius: \"9999px\",\n    padding: \"6px 14px\",\n    fontSize: \"13px\",\n    fontWeight: 500,\n    border: \"1px solid transparent\",\n    cursor: \"pointer\",\n    outline: \"none\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    whiteSpace: \"nowrap\",\n    transition: \"background 0.15s ease, transform 0.05s ease, border-color 0.15s ease\"\n  },\n  startButton: {\n    background: \"linear-gradient(90deg, rgba(129,140,248,1) 0%, rgba(236,72,153,1) 100%)\",\n    borderColor: \"rgba(129,140,248,0.4)\",\n    color: \"#0b1020\"\n  },\n  startButtonDisabled: {\n    opacity: 0.6,\n    cursor: \"default\"\n  },\n  copyButton: {\n    background: \"#020617\",\n    borderColor: \"#334155\",\n    color: \"#e5e7eb\"\n  },\n  // Result banner\n  resultBanner: {\n    marginTop: \"4px\",\n    padding: \"8px 12px\",\n    borderRadius: \"9999px\",\n    fontSize: \"13px\",\n    fontWeight: 500,\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    gap: \"6px\"\n  },\n  resultWin: {\n    background: \"rgba(34,197,94,0.1)\",\n    border: \"1px solid rgba(34,197,94,0.4)\",\n    color: \"#bbf7d0\"\n  },\n  resultLose: {\n    background: \"rgba(239,68,68,0.1)\",\n    border: \"1px solid rgba(239,68,68,0.4)\",\n    color: \"#fecaca\"\n  },\n  resultDraw: {\n    background: \"rgba(148,163,184,0.15)\",\n    border: \"1px solid rgba(148,163,184,0.4)\",\n    color: \"#e5e7eb\"\n  },\n  resultSummary: {\n    marginTop: \"6px\",\n    fontSize: \"12px\",\n    opacity: 0.85\n  },\n  resultRow: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    gap: \"8px\"\n  }\n};\nexport default function DuelRoomPage() {\n  _s();\n  var _problem$exampleTests3;\n  const {\n    roomId\n  } = useParams();\n  const {\n    user\n  } = useAuth();\n  const [socket, setSocket] = useState(null);\n  const [problem, setProblem] = useState(null);\n  const [status, setStatus] = useState(\"Waiting to start\");\n  const [language, setLanguage] = useState(DEFAULT_LANGUAGE);\n  const [code, setCode] = useState(\"\");\n  const [runOutput, setRunOutput] = useState(\"\");\n  const [isRunning, setIsRunning] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [hasStarted, setHasStarted] = useState(false);\n  const [copyLabel, setCopyLabel] = useState(\"Copy duel code\");\n  const [duelOutcome, setDuelOutcome] = useState(null); // \"win\" | \"lose\" | \"draw\" | null\n  const [duelSummary, setDuelSummary] = useState(null);\n\n  // keep latest user in a ref so socket handlers always see correct _id\n  const userRef = useRef(null);\n  useEffect(() => {\n    userRef.current = user;\n  }, [user]);\n\n  // ---------------------------- SOCKET SETUP ----------------------------\n  useEffect(() => {\n    const s = createDuelSocket();\n    setSocket(s);\n    s.on(\"duel_started\", payload => {\n      console.log(\"duel_started payload\", payload);\n      if (payload !== null && payload !== void 0 && payload.problem) {\n        setProblem(payload.problem);\n      }\n      setStatus(\"Duel in progress\");\n      setHasStarted(true);\n      setDuelOutcome(null);\n      setDuelSummary(null);\n    });\n    s.on(\"duel_error\", err => {\n      console.log(\"duel_error\", err);\n      setStatus((err === null || err === void 0 ? void 0 : err.message) || \"Duel error\");\n      setHasStarted(false);\n    });\n\n    // Winner / loser handler\n    s.on(\"duel_finished\", payload => {\n      console.log(\"duel_finished\", payload);\n      if (!payload) return;\n      const currentUser = userRef.current;\n      const {\n        winner,\n        summary\n      } = payload;\n      let outcome = \"draw\";\n      if (winner) {\n        if (currentUser !== null && currentUser !== void 0 && currentUser._id && winner === String(currentUser._id)) {\n          outcome = \"win\";\n        } else {\n          outcome = \"lose\";\n        }\n      }\n      if (outcome === \"win\") {\n        setStatus(\"Duel finished ‚Äì you won! üèÜ\");\n      } else if (outcome === \"lose\") {\n        setStatus(\"Duel finished ‚Äì you lost ‚ùå\");\n      } else {\n        setStatus(\"Duel finished ‚Äì draw ü§ù\");\n      }\n      setDuelOutcome(outcome);\n      setDuelSummary(summary || null);\n      setHasStarted(false);\n    });\n    return () => {\n      s.disconnect();\n    };\n  }, []); // run once, user is read via ref\n\n  // join room\n  useEffect(() => {\n    if (!socket) return;\n    if (!roomId || !(user !== null && user !== void 0 && user._id)) return;\n    console.log(\"join_duel emit\", {\n      roomId,\n      userId: user._id\n    });\n    socket.emit(\"join_duel\", {\n      roomId,\n      userId: user._id\n    });\n  }, [socket, roomId, user]);\n\n  // ---------------------------- ACTIONS ----------------------------\n  const handleRun = useCallback(async () => {\n    if (!problem) {\n      setRunOutput(\"Problem not loaded yet.\");\n      return;\n    }\n    try {\n      var _problem$exampleTests, _problem$exampleTests2;\n      setIsRunning(true);\n      setRunOutput(\"Running...\");\n      const sampleInput = ((_problem$exampleTests = problem.exampleTests) === null || _problem$exampleTests === void 0 ? void 0 : (_problem$exampleTests2 = _problem$exampleTests[0]) === null || _problem$exampleTests2 === void 0 ? void 0 : _problem$exampleTests2.input) || \"\";\n      const res = await api.post(\"/judge/run\", {\n        code,\n        language,\n        input: sampleInput\n      });\n      const out = res.data.output || res.data.stdout || \"No output received from runner.\";\n      setRunOutput(out);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Error executing code.\";\n      setRunOutput(msg);\n    } finally {\n      setIsRunning(false);\n    }\n  }, [problem, code, language]);\n  const handleSubmit = useCallback(() => {\n    if (!socket) {\n      setRunOutput(\"Socket not connected.\");\n      return;\n    }\n    if (!user) {\n      setRunOutput(\"You must be logged in to submit.\");\n      return;\n    }\n    if (!problem) {\n      setRunOutput(\"Problem not loaded yet.\");\n      return;\n    }\n    setIsSubmitting(true);\n    setRunOutput(\"Submitting to duel...\");\n    socket.emit(\"duel_submit_code\", {\n      roomId,\n      userId: user._id,\n      code,\n      languageId: language\n    }, res => {\n      var _judge$status;\n      setIsSubmitting(false);\n      if (!res || !res.ok) {\n        setRunOutput((res === null || res === void 0 ? void 0 : res.message) || \"Submit failed.\");\n        return;\n      }\n      const judge = res.judge || {};\n      const statusText = ((_judge$status = judge.status) === null || _judge$status === void 0 ? void 0 : _judge$status.description) || (res.accepted ? \"Accepted\" : \"Some tests failed\");\n      if (res.accepted) {\n        setRunOutput(`Accepted! ‚úÖ\\n\\n${judge.stdout || \"\"}`.trim() || \"Accepted! ‚úÖ\");\n      } else {\n        setRunOutput(`Some tests failed. ‚ùå\\n\\nStatus: ${statusText}\\n\\n${judge.stderr || judge.stdout || \"\"}`);\n      }\n    });\n  }, [socket, roomId, user, code, language, problem]);\n  const handleStartDuel = useCallback(() => {\n    if (!socket || hasStarted) return;\n    setStatus(\"Starting duel...\");\n    console.log(\"start_duel emit\", {\n      roomId,\n      userId: user === null || user === void 0 ? void 0 : user._id\n    });\n    socket.emit(\"start_duel\", {\n      roomId,\n      userId: user === null || user === void 0 ? void 0 : user._id\n    }, (res = {}) => {\n      console.log(\"start_duel ack\", res);\n      if (!res.ok) {\n        setStatus(res.message || \"Failed to start duel\");\n        setHasStarted(false);\n      }\n      // success -> server sends \"duel_started\"\n    });\n  }, [socket, roomId, user, hasStarted]);\n  const handleCopyCode = useCallback(async () => {\n    if (!roomId) return;\n    try {\n      await navigator.clipboard.writeText(roomId);\n      setCopyLabel(\"Copied!\");\n    } catch {\n      setCopyLabel(\"Failed to copy\");\n    }\n    setTimeout(() => setCopyLabel(\"Copy duel code\"), 1500);\n  }, [roomId]);\n  const startDisabled = !socket || hasStarted;\n  const renderSummary = () => {\n    if (!(duelSummary !== null && duelSummary !== void 0 && duelSummary.submissions) || duelSummary.submissions.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.resultSummary,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 4\n        },\n        children: \"Results:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), duelSummary.submissions.map(sub => {\n        var _userRef$current;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.resultRow,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: (_userRef$current = userRef.current) !== null && _userRef$current !== void 0 && _userRef$current._id && sub.userId === String(userRef.current._id) ? \"You\" : sub.userId.slice(0, 6) + \"...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [sub.passed, \"/\", sub.total, \" tests\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)]\n        }, sub.userId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.titleBlock,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: styles.title,\n          children: \"1v1 Duel Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.status,\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), duelOutcome && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...styles.resultBanner,\n            ...(duelOutcome === \"win\" ? styles.resultWin : duelOutcome === \"lose\" ? styles.resultLose : styles.resultDraw)\n          },\n          children: [duelOutcome === \"win\" && \"üèÜ You won the duel!\", duelOutcome === \"lose\" && \"‚ùå You lost the duel.\", duelOutcome === \"draw\" && \"ü§ù Duel ended in a draw.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), duelOutcome && renderSummary()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.headerActions,\n        children: [roomId && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.duelCodeText,\n          children: [\"Room code: \", roomId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: {\n            ...styles.buttonBase,\n            ...styles.copyButton\n          },\n          onClick: handleCopyCode,\n          children: copyLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: {\n            ...styles.buttonBase,\n            ...styles.startButton,\n            ...(startDisabled ? styles.startButtonDisabled : {})\n          },\n          onClick: handleStartDuel,\n          disabled: startDisabled,\n          children: hasStarted ? \"Duel started\" : \"Start Duel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.substatus,\n      children: problem ? \"Problem loaded\" : \"Waiting for problem...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.problemPanel,\n        children: problem ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: styles.problemTitle,\n            children: problem.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: styles.problemDescription,\n            children: problem.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this), (problem === null || problem === void 0 ? void 0 : problem.constraints) && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.problemSubheading,\n              children: \"Constraints\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              style: styles.problemConstraints,\n              children: problem.constraints\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), (problem === null || problem === void 0 ? void 0 : (_problem$exampleTests3 = problem.exampleTests) === null || _problem$exampleTests3 === void 0 ? void 0 : _problem$exampleTests3.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.problemSubheading,\n              children: \"Examples\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 19\n            }, this), problem.exampleTests.map((ex, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.exampleBox,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.exampleBlock,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Input:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                  style: styles.examplePre,\n                  children: ex.input\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.exampleBlock,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Output:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                  style: styles.examplePre,\n                  children: ex.output\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 23\n              }, this), ex.explanation && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.exampleBlock,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Explanation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                  style: styles.examplePre,\n                  children: ex.explanation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 25\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.waitingProblemTitle,\n            children: \"Waiting for problem\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: styles.waitingProblemText,\n            children: \"The duel will start as soon as a problem is selected.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.editorPanel,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.editorPanelChild,\n          children: /*#__PURE__*/_jsxDEV(MonacoCodeRunner, {\n            value: code,\n            onChange: setCode,\n            language: language,\n            onLanguageChange: setLanguage,\n            onRun: handleRun,\n            onSubmit: handleSubmit,\n            runOutput: runOutput,\n            allowSubmit: true,\n            isRunning: isRunning,\n            isSubmitting: isSubmitting\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 452,\n    columnNumber: 5\n  }, this);\n}\n_s(DuelRoomPage, \"QrfQv7HuWxSHQyirfoixETkIg48=\", false, function () {\n  return [useParams, useAuth];\n});\n_c = DuelRoomPage;\nvar _c;\n$RefreshReg$(_c, \"DuelRoomPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useParams","MonacoCodeRunner","useAuth","api","createDuelSocket","jsxDEV","_jsxDEV","Fragment","_Fragment","DEFAULT_LANGUAGE","styles","page","minHeight","background","color","padding","boxSizing","display","flexDirection","gap","header","justifyContent","alignItems","titleBlock","title","margin","fontSize","fontWeight","status","opacity","substatus","main","gridTemplateColumns","problemPanel","borderRadius","border","boxShadow","overflowY","maxHeight","problemTitle","marginTop","marginBottom","problemDescription","lineHeight","whiteSpace","problemSubheading","problemConstraints","exampleBox","exampleBlock","examplePre","waitingProblemTitle","waitingProblemText","editorPanel","editorPanelChild","flex","headerActions","flexShrink","duelCodeText","buttonBase","cursor","outline","transition","startButton","borderColor","startButtonDisabled","copyButton","resultBanner","resultWin","resultLose","resultDraw","resultSummary","resultRow","DuelRoomPage","_s","_problem$exampleTests3","roomId","user","socket","setSocket","problem","setProblem","setStatus","language","setLanguage","code","setCode","runOutput","setRunOutput","isRunning","setIsRunning","isSubmitting","setIsSubmitting","hasStarted","setHasStarted","copyLabel","setCopyLabel","duelOutcome","setDuelOutcome","duelSummary","setDuelSummary","userRef","current","s","on","payload","console","log","err","message","currentUser","winner","summary","outcome","_id","String","disconnect","userId","emit","handleRun","_problem$exampleTests","_problem$exampleTests2","sampleInput","exampleTests","input","res","post","out","data","output","stdout","_err$response","_err$response$data","_err$response2","_err$response2$data","msg","response","error","handleSubmit","languageId","_judge$status","ok","judge","statusText","description","accepted","trim","stderr","handleStartDuel","handleCopyCode","navigator","clipboard","writeText","setTimeout","startDisabled","renderSummary","submissions","length","style","children","fileName","_jsxFileName","lineNumber","columnNumber","map","sub","_userRef$current","slice","passed","total","type","onClick","disabled","constraints","ex","idx","explanation","value","onChange","onLanguageChange","onRun","onSubmit","allowSubmit","_c","$RefreshReg$"],"sources":["C:/Users/abhig/OneDrive/Desktop/leetclone/client/src/pages/DuelRoomPage.js"],"sourcesContent":["// client/src/pages/DuelRoomPage.js\r\nimport React, {\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  useRef,\r\n} from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport MonacoCodeRunner from \"../components/MonacoCodeRunner\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport api from \"../utils/api\";\r\nimport createDuelSocket from \"../utils/duelSocket\";\r\n\r\nconst DEFAULT_LANGUAGE = \"python\";\r\n\r\nconst styles = {\r\n  page: {\r\n    minHeight: \"100vh\",\r\n    background: \"#020617\",\r\n    color: \"#e5e7eb\",\r\n    padding: \"24px\",\r\n    boxSizing: \"border-box\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"16px\",\r\n  },\r\n  header: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    gap: \"16px\",\r\n  },\r\n  titleBlock: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"4px\",\r\n  },\r\n  title: {\r\n    margin: 0,\r\n    fontSize: \"26px\",\r\n    fontWeight: 700,\r\n  },\r\n  status: {\r\n    fontSize: \"13px\",\r\n    opacity: 0.8,\r\n  },\r\n  substatus: {\r\n    fontSize: \"13px\",\r\n    opacity: 0.75,\r\n  },\r\n  main: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"minmax(0, 1.1fr) minmax(0, 1.3fr)\",\r\n    gap: \"18px\",\r\n    alignItems: \"stretch\",\r\n  },\r\n  problemPanel: {\r\n    background: \"#020617\",\r\n    borderRadius: \"14px\",\r\n    padding: \"16px\",\r\n    border: \"1px solid #1f2937\",\r\n    boxShadow: \"0 0 0 1px rgba(15, 23, 42, 0.6)\",\r\n    overflowY: \"auto\",\r\n    maxHeight: \"calc(100vh - 210px)\",\r\n  },\r\n  problemTitle: {\r\n    marginTop: 0,\r\n    marginBottom: \"8px\",\r\n    fontSize: \"18px\",\r\n    fontWeight: 600,\r\n  },\r\n  problemDescription: {\r\n    fontSize: \"14px\",\r\n    lineHeight: 1.6,\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n  problemSubheading: {\r\n    marginTop: \"16px\",\r\n    marginBottom: \"6px\",\r\n    fontSize: \"14px\",\r\n    fontWeight: 600,\r\n  },\r\n  problemConstraints: {\r\n    background: \"#020617\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #1f2937\",\r\n    padding: \"8px\",\r\n    fontSize: \"13px\",\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n  exampleBox: {\r\n    marginBottom: \"10px\",\r\n    padding: \"8px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #1f2937\",\r\n    background: \"#020617\",\r\n  },\r\n  exampleBlock: {\r\n    marginBottom: \"4px\",\r\n    fontSize: \"13px\",\r\n  },\r\n  examplePre: {\r\n    margin: \"4px 0 0\",\r\n    padding: \"6px\",\r\n    borderRadius: \"6px\",\r\n    background: \"#020617\",\r\n    border: \"1px solid #111827\",\r\n    fontSize: \"12px\",\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n  waitingProblemTitle: {\r\n    margin: 0,\r\n    marginBottom: \"6px\",\r\n    fontSize: \"16px\",\r\n    fontWeight: 600,\r\n  },\r\n  waitingProblemText: {\r\n    fontSize: \"14px\",\r\n    opacity: 0.8,\r\n  },\r\n  editorPanel: {\r\n    background: \"#020617\",\r\n    borderRadius: \"14px\",\r\n    padding: \"8px\",\r\n    border: \"1px solid #1f2937\",\r\n    boxShadow: \"0 0 0 1px rgba(15, 23, 42, 0.6)\",\r\n    maxHeight: \"calc(100vh - 210px)\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  editorPanelChild: {\r\n    flex: 1,\r\n    minHeight: 0,\r\n  },\r\n\r\n  // Header actions\r\n  headerActions: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"10px\",\r\n    flexShrink: 0,\r\n  },\r\n  duelCodeText: {\r\n    fontSize: \"12px\",\r\n    opacity: 0.75,\r\n  },\r\n  buttonBase: {\r\n    borderRadius: \"9999px\",\r\n    padding: \"6px 14px\",\r\n    fontSize: \"13px\",\r\n    fontWeight: 500,\r\n    border: \"1px solid transparent\",\r\n    cursor: \"pointer\",\r\n    outline: \"none\",\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    whiteSpace: \"nowrap\",\r\n    transition:\r\n      \"background 0.15s ease, transform 0.05s ease, border-color 0.15s ease\",\r\n  },\r\n  startButton: {\r\n    background:\r\n      \"linear-gradient(90deg, rgba(129,140,248,1) 0%, rgba(236,72,153,1) 100%)\",\r\n    borderColor: \"rgba(129,140,248,0.4)\",\r\n    color: \"#0b1020\",\r\n  },\r\n  startButtonDisabled: {\r\n    opacity: 0.6,\r\n    cursor: \"default\",\r\n  },\r\n  copyButton: {\r\n    background: \"#020617\",\r\n    borderColor: \"#334155\",\r\n    color: \"#e5e7eb\",\r\n  },\r\n\r\n  // Result banner\r\n  resultBanner: {\r\n    marginTop: \"4px\",\r\n    padding: \"8px 12px\",\r\n    borderRadius: \"9999px\",\r\n    fontSize: \"13px\",\r\n    fontWeight: 500,\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    gap: \"6px\",\r\n  },\r\n  resultWin: {\r\n    background: \"rgba(34,197,94,0.1)\",\r\n    border: \"1px solid rgba(34,197,94,0.4)\",\r\n    color: \"#bbf7d0\",\r\n  },\r\n  resultLose: {\r\n    background: \"rgba(239,68,68,0.1)\",\r\n    border: \"1px solid rgba(239,68,68,0.4)\",\r\n    color: \"#fecaca\",\r\n  },\r\n  resultDraw: {\r\n    background: \"rgba(148,163,184,0.15)\",\r\n    border: \"1px solid rgba(148,163,184,0.4)\",\r\n    color: \"#e5e7eb\",\r\n  },\r\n  resultSummary: {\r\n    marginTop: \"6px\",\r\n    fontSize: \"12px\",\r\n    opacity: 0.85,\r\n  },\r\n  resultRow: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    gap: \"8px\",\r\n  },\r\n};\r\n\r\nexport default function DuelRoomPage() {\r\n  const { roomId } = useParams();\r\n  const { user } = useAuth();\r\n\r\n  const [socket, setSocket] = useState(null);\r\n  const [problem, setProblem] = useState(null);\r\n  const [status, setStatus] = useState(\"Waiting to start\");\r\n  const [language, setLanguage] = useState(DEFAULT_LANGUAGE);\r\n  const [code, setCode] = useState(\"\");\r\n  const [runOutput, setRunOutput] = useState(\"\");\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [hasStarted, setHasStarted] = useState(false);\r\n  const [copyLabel, setCopyLabel] = useState(\"Copy duel code\");\r\n\r\n  const [duelOutcome, setDuelOutcome] = useState(null); // \"win\" | \"lose\" | \"draw\" | null\r\n  const [duelSummary, setDuelSummary] = useState(null);\r\n\r\n  // keep latest user in a ref so socket handlers always see correct _id\r\n  const userRef = useRef(null);\r\n  useEffect(() => {\r\n    userRef.current = user;\r\n  }, [user]);\r\n\r\n  // ---------------------------- SOCKET SETUP ----------------------------\r\n  useEffect(() => {\r\n    const s = createDuelSocket();\r\n    setSocket(s);\r\n\r\n    s.on(\"duel_started\", (payload) => {\r\n      console.log(\"duel_started payload\", payload);\r\n      if (payload?.problem) {\r\n        setProblem(payload.problem);\r\n      }\r\n      setStatus(\"Duel in progress\");\r\n      setHasStarted(true);\r\n      setDuelOutcome(null);\r\n      setDuelSummary(null);\r\n    });\r\n\r\n    s.on(\"duel_error\", (err) => {\r\n      console.log(\"duel_error\", err);\r\n      setStatus(err?.message || \"Duel error\");\r\n      setHasStarted(false);\r\n    });\r\n\r\n    // Winner / loser handler\r\n    s.on(\"duel_finished\", (payload) => {\r\n      console.log(\"duel_finished\", payload);\r\n      if (!payload) return;\r\n\r\n      const currentUser = userRef.current;\r\n      const { winner, summary } = payload;\r\n\r\n      let outcome = \"draw\";\r\n      if (winner) {\r\n        if (currentUser?._id && winner === String(currentUser._id)) {\r\n          outcome = \"win\";\r\n        } else {\r\n          outcome = \"lose\";\r\n        }\r\n      }\r\n\r\n      if (outcome === \"win\") {\r\n        setStatus(\"Duel finished ‚Äì you won! üèÜ\");\r\n      } else if (outcome === \"lose\") {\r\n        setStatus(\"Duel finished ‚Äì you lost ‚ùå\");\r\n      } else {\r\n        setStatus(\"Duel finished ‚Äì draw ü§ù\");\r\n      }\r\n\r\n      setDuelOutcome(outcome);\r\n      setDuelSummary(summary || null);\r\n      setHasStarted(false);\r\n    });\r\n\r\n    return () => {\r\n      s.disconnect();\r\n    };\r\n  }, []); // run once, user is read via ref\r\n\r\n  // join room\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    if (!roomId || !user?._id) return;\r\n\r\n    console.log(\"join_duel emit\", { roomId, userId: user._id });\r\n    socket.emit(\"join_duel\", { roomId, userId: user._id });\r\n  }, [socket, roomId, user]);\r\n\r\n  // ---------------------------- ACTIONS ----------------------------\r\n  const handleRun = useCallback(async () => {\r\n    if (!problem) {\r\n      setRunOutput(\"Problem not loaded yet.\");\r\n      return;\r\n    }\r\n    try {\r\n      setIsRunning(true);\r\n      setRunOutput(\"Running...\");\r\n\r\n      const sampleInput = problem.exampleTests?.[0]?.input || \"\";\r\n\r\n      const res = await api.post(\"/judge/run\", {\r\n        code,\r\n        language,\r\n        input: sampleInput,\r\n      });\r\n\r\n      const out =\r\n        res.data.output ||\r\n        res.data.stdout ||\r\n        \"No output received from runner.\";\r\n      setRunOutput(out);\r\n    } catch (err) {\r\n      const msg =\r\n        err.response?.data?.error ||\r\n        err.response?.data?.message ||\r\n        \"Error executing code.\";\r\n      setRunOutput(msg);\r\n    } finally {\r\n      setIsRunning(false);\r\n    }\r\n  }, [problem, code, language]);\r\n\r\n  const handleSubmit = useCallback(() => {\r\n    if (!socket) {\r\n      setRunOutput(\"Socket not connected.\");\r\n      return;\r\n    }\r\n    if (!user) {\r\n      setRunOutput(\"You must be logged in to submit.\");\r\n      return;\r\n    }\r\n    if (!problem) {\r\n      setRunOutput(\"Problem not loaded yet.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setRunOutput(\"Submitting to duel...\");\r\n\r\n    socket.emit(\r\n      \"duel_submit_code\",\r\n      {\r\n        roomId,\r\n        userId: user._id,\r\n        code,\r\n        languageId: language,\r\n      },\r\n      (res) => {\r\n        setIsSubmitting(false);\r\n\r\n        if (!res || !res.ok) {\r\n          setRunOutput(res?.message || \"Submit failed.\");\r\n          return;\r\n        }\r\n\r\n        const judge = res.judge || {};\r\n        const statusText =\r\n          judge.status?.description ||\r\n          (res.accepted ? \"Accepted\" : \"Some tests failed\");\r\n\r\n        if (res.accepted) {\r\n          setRunOutput(\r\n            `Accepted! ‚úÖ\\n\\n${judge.stdout || \"\"}`.trim() || \"Accepted! ‚úÖ\"\r\n          );\r\n        } else {\r\n          setRunOutput(\r\n            `Some tests failed. ‚ùå\\n\\nStatus: ${statusText}\\n\\n${\r\n              judge.stderr || judge.stdout || \"\"\r\n            }`\r\n          );\r\n        }\r\n      }\r\n    );\r\n  }, [socket, roomId, user, code, language, problem]);\r\n\r\n  const handleStartDuel = useCallback(() => {\r\n    if (!socket || hasStarted) return;\r\n\r\n    setStatus(\"Starting duel...\");\r\n\r\n    console.log(\"start_duel emit\", { roomId, userId: user?._id });\r\n\r\n    socket.emit(\r\n      \"start_duel\",\r\n      { roomId, userId: user?._id },\r\n      (res = {}) => {\r\n        console.log(\"start_duel ack\", res);\r\n        if (!res.ok) {\r\n          setStatus(res.message || \"Failed to start duel\");\r\n          setHasStarted(false);\r\n        }\r\n        // success -> server sends \"duel_started\"\r\n      }\r\n    );\r\n  }, [socket, roomId, user, hasStarted]);\r\n\r\n  const handleCopyCode = useCallback(async () => {\r\n    if (!roomId) return;\r\n    try {\r\n      await navigator.clipboard.writeText(roomId);\r\n      setCopyLabel(\"Copied!\");\r\n    } catch {\r\n      setCopyLabel(\"Failed to copy\");\r\n    }\r\n    setTimeout(() => setCopyLabel(\"Copy duel code\"), 1500);\r\n  }, [roomId]);\r\n\r\n  const startDisabled = !socket || hasStarted;\r\n\r\n  const renderSummary = () => {\r\n    if (!duelSummary?.submissions || duelSummary.submissions.length === 0)\r\n      return null;\r\n\r\n    return (\r\n      <div style={styles.resultSummary}>\r\n        <div style={{ marginBottom: 4 }}>Results:</div>\r\n        {duelSummary.submissions.map((sub) => (\r\n          <div key={sub.userId} style={styles.resultRow}>\r\n            <span>\r\n              {userRef.current?._id &&\r\n              sub.userId === String(userRef.current._id)\r\n                ? \"You\"\r\n                : sub.userId.slice(0, 6) + \"...\"}\r\n            </span>\r\n            <span>\r\n              {sub.passed}/{sub.total} tests\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={styles.page}>\r\n      <header style={styles.header}>\r\n        <div style={styles.titleBlock}>\r\n          <h1 style={styles.title}>1v1 Duel Room</h1>\r\n          <div style={styles.status}>{status}</div>\r\n\r\n          {duelOutcome && (\r\n            <div\r\n              style={{\r\n                ...styles.resultBanner,\r\n                ...(duelOutcome === \"win\"\r\n                  ? styles.resultWin\r\n                  : duelOutcome === \"lose\"\r\n                  ? styles.resultLose\r\n                  : styles.resultDraw),\r\n              }}\r\n            >\r\n              {duelOutcome === \"win\" && \"üèÜ You won the duel!\"}\r\n              {duelOutcome === \"lose\" && \"‚ùå You lost the duel.\"}\r\n              {duelOutcome === \"draw\" && \"ü§ù Duel ended in a draw.\"}\r\n            </div>\r\n          )}\r\n\r\n          {duelOutcome && renderSummary()}\r\n        </div>\r\n\r\n        <div style={styles.headerActions}>\r\n          {roomId && (\r\n            <div style={styles.duelCodeText}>Room code: {roomId}</div>\r\n          )}\r\n\r\n          <button\r\n            type=\"button\"\r\n            style={{ ...styles.buttonBase, ...styles.copyButton }}\r\n            onClick={handleCopyCode}\r\n          >\r\n            {copyLabel}\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            style={{\r\n              ...styles.buttonBase,\r\n              ...styles.startButton,\r\n              ...(startDisabled ? styles.startButtonDisabled : {}),\r\n            }}\r\n            onClick={handleStartDuel}\r\n            disabled={startDisabled}\r\n          >\r\n            {hasStarted ? \"Duel started\" : \"Start Duel\"}\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div style={styles.substatus}>\r\n        {problem ? \"Problem loaded\" : \"Waiting for problem...\"}\r\n      </div>\r\n\r\n      <div style={styles.main}>\r\n        <section style={styles.problemPanel}>\r\n          {problem ? (\r\n            <>\r\n              <h2 style={styles.problemTitle}>{problem.title}</h2>\r\n              <p style={styles.problemDescription}>{problem.description}</p>\r\n\r\n              {problem?.constraints && (\r\n                <>\r\n                  <h3 style={styles.problemSubheading}>Constraints</h3>\r\n                  <pre style={styles.problemConstraints}>\r\n                    {problem.constraints}\r\n                  </pre>\r\n                </>\r\n              )}\r\n\r\n              {problem?.exampleTests?.length > 0 && (\r\n                <>\r\n                  <h3 style={styles.problemSubheading}>Examples</h3>\r\n                  {problem.exampleTests.map((ex, idx) => (\r\n                    <div key={idx} style={styles.exampleBox}>\r\n                      <div style={styles.exampleBlock}>\r\n                        <strong>Input:</strong>\r\n                        <pre style={styles.examplePre}>{ex.input}</pre>\r\n                      </div>\r\n                      <div style={styles.exampleBlock}>\r\n                        <strong>Output:</strong>\r\n                        <pre style={styles.examplePre}>{ex.output}</pre>\r\n                      </div>\r\n                      {ex.explanation && (\r\n                        <div style={styles.exampleBlock}>\r\n                          <strong>Explanation:</strong>\r\n                          <pre style={styles.examplePre}>\r\n                            {ex.explanation}\r\n                          </pre>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <div>\r\n              <h3 style={styles.waitingProblemTitle}>Waiting for problem‚Ä¶</h3>\r\n              <p style={styles.waitingProblemText}>\r\n                The duel will start as soon as a problem is selected.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        <section style={styles.editorPanel}>\r\n          <div style={styles.editorPanelChild}>\r\n            <MonacoCodeRunner\r\n              value={code}\r\n              onChange={setCode}\r\n              language={language}\r\n              onLanguageChange={setLanguage}\r\n              onRun={handleRun}\r\n              onSubmit={handleSubmit}\r\n              runOutput={runOutput}\r\n              allowSubmit={true}\r\n              isRunning={isRunning}\r\n              isSubmitting={isSubmitting}\r\n            />\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}