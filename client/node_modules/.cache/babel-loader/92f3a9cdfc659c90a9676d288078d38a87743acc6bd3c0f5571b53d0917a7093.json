{"ast":null,"code":"// client/src/utils/duelSocket.js\nimport { io } from \"socket.io-client\";\nfunction getSocketUrl() {\n  // If explicitly set, use it\n  if (process.env.REACT_APP_SOCKET_URL) {\n    return process.env.REACT_APP_SOCKET_URL;\n  }\n  // If you already have REACT_APP_API_BASE_URL like \"http://localhost:5000/api\"\n  if (process.env.REACT_APP_API_BASE_URL) {\n    return process.env.REACT_APP_API_BASE_URL.replace(/\\/api\\/?$/, \"\");\n  }\n  // Fallback for local dev\n  return \"http://localhost:5000\";\n}\nconst SOCKET_URL = getSocketUrl();\nexport function createDuelSocket(token) {\n  return io(SOCKET_URL, {\n    transports: [\"websocket\"],\n    auth: {\n      token\n    } // JWT from localStorage / AuthContext\n  });\n}","map":{"version":3,"names":["io","getSocketUrl","process","env","REACT_APP_SOCKET_URL","REACT_APP_API_BASE_URL","replace","SOCKET_URL","createDuelSocket","token","transports","auth"],"sources":["C:/Users/abhig/OneDrive/Desktop/leetclone/client/src/utils/duelSocket.js"],"sourcesContent":["// client/src/utils/duelSocket.js\r\nimport { io } from \"socket.io-client\";\r\n\r\nfunction getSocketUrl() {\r\n  // If explicitly set, use it\r\n  if (process.env.REACT_APP_SOCKET_URL) {\r\n    return process.env.REACT_APP_SOCKET_URL;\r\n  }\r\n  // If you already have REACT_APP_API_BASE_URL like \"http://localhost:5000/api\"\r\n  if (process.env.REACT_APP_API_BASE_URL) {\r\n    return process.env.REACT_APP_API_BASE_URL.replace(/\\/api\\/?$/, \"\");\r\n  }\r\n  // Fallback for local dev\r\n  return \"http://localhost:5000\";\r\n}\r\n\r\nconst SOCKET_URL = getSocketUrl();\r\n\r\nexport function createDuelSocket(token) {\r\n  return io(SOCKET_URL, {\r\n    transports: [\"websocket\"],\r\n    auth: { token }, // JWT from localStorage / AuthContext\r\n  });\r\n}\r\n"],"mappings":"AAAA;AACA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,SAASC,YAAYA,CAAA,EAAG;EACtB;EACA,IAAIC,OAAO,CAACC,GAAG,CAACC,oBAAoB,EAAE;IACpC,OAAOF,OAAO,CAACC,GAAG,CAACC,oBAAoB;EACzC;EACA;EACA,IAAIF,OAAO,CAACC,GAAG,CAACE,sBAAsB,EAAE;IACtC,OAAOH,OAAO,CAACC,GAAG,CAACE,sBAAsB,CAACC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;EACpE;EACA;EACA,OAAO,uBAAuB;AAChC;AAEA,MAAMC,UAAU,GAAGN,YAAY,CAAC,CAAC;AAEjC,OAAO,SAASO,gBAAgBA,CAACC,KAAK,EAAE;EACtC,OAAOT,EAAE,CAACO,UAAU,EAAE;IACpBG,UAAU,EAAE,CAAC,WAAW,CAAC;IACzBC,IAAI,EAAE;MAAEF;IAAM,CAAC,CAAE;EACnB,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}